<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>R6 class the represents a Calculation Batch — PivotBatch • pivottabler</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>


<!-- docsearch -->
<script src="../docsearch.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.3/docsearch.min.css" integrity="sha256-QOSRU/ra9ActyXkIBbiIB144aDBdtvXBcNc3OTNuX/Q=" crossorigin="anonymous" />
<link href="../docsearch.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script>



<meta property="og:title" content="R6 class the represents a Calculation Batch — PivotBatch" />
<meta property="og:description" content="The `PivotBatch` class represents one combination of data, variables and
calculations that are needed when calculating the values of cells in a pivot table." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-64707587-2"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-64707587-2');
</script>


  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">pivottabler</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.5.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../articles/index.html">Articles</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/cbailiss/pivottabler/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
      <form class="navbar-form navbar-right hidden-xs hidden-sm" role="search">
        <div class="form-group">
          <input type="search" class="form-control" name="search-input" id="search-input" placeholder="Search..." aria-label="Search for..." autocomplete="off">
        </div>
      </form>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>R6 class the represents a Calculation Batch</h1>
    <small class="dont-index">Source: <a href='https://github.com/cbailiss/pivottabler/blob/master/R/PivotBatch.R'><code>R/PivotBatch.R</code></a></small>
    <div class="hidden name"><code>PivotBatch.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>The `PivotBatch` class represents one combination of data, variables and
calculations that are needed when calculating the values of cells in a pivot table.</p>
    </div>



    <h2 class="hasAnchor" id="format"><a class="anchor" href="#format"></a>Format</h2>

    <p><code>R6Class</code> object.</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>The combination of data name and variable names defines a batch.
When the batch is calculated, the calculations specified in the batch
are evaluated against the specified data, with the data being grouped by the
variables specified in the batch.  Individual result values can then be retrieved
from the batch.  See the "Performance" vignette for details.</p>
    <h2 class="hasAnchor" id="active-bindings"><a class="anchor" href="#active-bindings"></a>Active bindings</h2>

    <p><div class="r6-active-bindings"></p><dl'>
<dt><code>batchId</code></dt><dd><p>The unique identifier for the batch.</p></dd>

<dt><code>batchName</code></dt><dd><p>The unique name of the batch.</p></dd>

<dt><code>compatibleCount</code></dt><dd><p>The number of pivot cell calculations that this batch supports.</p></dd>

<dt><code>evaluated</code></dt><dd><p>TRUE if this batch has been evaluated.</p></dd>

<dt><code>results</code></dt><dd><p>The results (a data frame) of the evaluation of the batch</p></dd>

<dt><code>asString</code></dt><dd><p>A text description of the batch.</p></dd>

</dl><p></div></p>
    <h2 class="hasAnchor" id="methods"><a class="anchor" href="#methods"></a>Methods</h2>

    
<h3>Public methods</h3>

<ul>
<li><p><a href='#method-new'><code>PivotBatch$new()</code></a></p></li>
<li><p><a href='#method-isCompatible'><code>PivotBatch$isCompatible()</code></a></p></li>
<li><p><a href='#method-addCompatible'><code>PivotBatch$addCompatible()</code></a></p></li>
<li><p><a href='#method-getCalculationInternalName'><code>PivotBatch$getCalculationInternalName()</code></a></p></li>
<li><p><a href='#method-evaluateBatch'><code>PivotBatch$evaluateBatch()</code></a></p></li>
<li><p><a href='#method-getSummaryValueFromBatch'><code>PivotBatch$getSummaryValueFromBatch()</code></a></p></li>
<li><p><a href='#method-clone'><code>PivotBatch$clone()</code></a></p></li>
</ul>
<p><hr>
<a id="method-new"></a></p><h3>Method <code>new()</code></h3>
<p>Create a new `PivotBatch` object.</p><h3>Usage</h3>
<p><div class="r"></p><pre><span class='no'>PivotBatch</span>$<span class='fu'>new</span>(
  <span class='kw'>parentPivot</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>batchId</span> <span class='kw'>=</span> <span class='fl'>0</span>,
  <span class='kw'>dataName</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>variableNames</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>values</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>calculationName</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>calculationGroupName</span> <span class='kw'>=</span> <span class='kw'>NULL</span>
)</pre><p></div></p>

<h3>Arguments</h3>
<p><div class="arguments"></p><dl'>
<dt><code>parentPivot</code></dt><dd><p>The pivot table that this `PivotBatch`
instance belongs to.</p></dd>

<dt><code>batchId</code></dt><dd><p>The unique identifier for the batch.</p></dd>

<dt><code>dataName</code></dt><dd><p>The name of the data frame (as specified in
`pt$addData()`) that this batch relates to.</p></dd>

<dt><code>variableNames</code></dt><dd><p>Specifies the combination of variable names
(i.e. dimensionality) of the batch.</p></dd>

<dt><code>values</code></dt><dd><p>A list specifying the distinct list of values for each
variable, i.e. `list(varName1=values1, varName2=values2, ...)`.
`values` is not currently used and does not affect the batch
compatibility logic.</p></dd>

<dt><code>calculationName</code></dt><dd><p>The first calculation added to this batch.
Does not affect the batch compatibility logic.</p></dd>

<dt><code>calculationGroupName</code></dt><dd><p>The calculation group of the first
calculation added to this batch.  Does not affect the batch
compatibility logic.</p></dd>

</dl><p></div></p>
<h3>Returns</h3>
<p>A new `PivotBatch` object.</p>
<p><hr>
<a id="method-isCompatible"></a></p><h3>Method <code>isCompatible()</code></h3>
<p>Determine whether a combination of data and variables is compatible
with this batch.</p><h3>Usage</h3>
<p><div class="r"></p><pre><span class='no'>PivotBatch</span>$<span class='fu'>isCompatible</span>(<span class='kw'>dataName</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>variableNames</span> <span class='kw'>=</span> <span class='kw'>NULL</span>)</pre><p></div></p>

<h3>Arguments</h3>
<p><div class="arguments"></p><dl'>
<dt><code>dataName</code></dt><dd><p>The name of the data frame (as specified in
`pt$addData()`).</p></dd>

<dt><code>variableNames</code></dt><dd><p>Specifies the combination of variable names
(i.e. dimensionality)..</p></dd>

</dl><p></div></p>
<h3>Returns</h3>
<p>`TRUE` or `FALSE`.</p>
<p><hr>
<a id="method-addCompatible"></a></p><h3>Method <code>addCompatible()</code></h3>
<p>Add a new set of values or a new calculation to the batch.
with this batch.</p><h3>Usage</h3>
<p><div class="r"></p><pre><span class='no'>PivotBatch</span>$<span class='fu'>addCompatible</span>(
  <span class='kw'>values</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>calculationName</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>calculationGroupName</span> <span class='kw'>=</span> <span class='kw'>NULL</span>
)</pre><p></div></p>

<h3>Arguments</h3>
<p><div class="arguments"></p><dl'>
<dt><code>values</code></dt><dd><p>A list specifying the distinct list of values for each
variable, i.e. `list(varName1=values1, varName2=values2, ...)`.
`values` is not currently used and does not affect the batch
compatibility logic.</p></dd>

<dt><code>calculationName</code></dt><dd><p>The calculation to add to the batch.
Does not affect the batch compatibility logic.</p></dd>

<dt><code>calculationGroupName</code></dt><dd><p>The calculation group of the
calculation to add to the batch.  Does not affect the batch
compatibility logic.</p></dd>

</dl><p></div></p>
<h3>Returns</h3>
<p>No return value.</p>
<p><hr>
<a id="method-getCalculationInternalName"></a></p><h3>Method <code>getCalculationInternalName()</code></h3>
<p>Find the internal name of a calculation in the batch.</p><h3>Usage</h3>
<p><div class="r"></p><pre><span class='no'>PivotBatch</span>$<span class='fu'>getCalculationInternalName</span>(
  <span class='kw'>calculationName</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>calculationGroupName</span> <span class='kw'>=</span> <span class='kw'>NULL</span>
)</pre><p></div></p>

<h3>Arguments</h3>
<p><div class="arguments"></p><dl'>
<dt><code>calculationName</code></dt><dd><p>The name of the calculation to find.</p></dd>

<dt><code>calculationGroupName</code></dt><dd><p>The calculation group of the
calculation to find.</p></dd>

</dl><p></div></p>
<h3>Returns</h3>
<p>The internal name of the calculation in the batch.</p>
<p><hr>
<a id="method-evaluateBatch"></a></p><h3>Method <code>evaluateBatch()</code></h3>
<p>Carry out grouping and calculations to evaluate the batch.</p><h3>Usage</h3>
<p><div class="r"></p><pre><span class='no'>PivotBatch</span>$<span class='fu'>evaluateBatch</span>()</pre><p></div></p>

<h3>Returns</h3>
<p>No return value.</p>
<p><hr>
<a id="method-getSummaryValueFromBatch"></a></p><h3>Method <code>getSummaryValueFromBatch()</code></h3>
<p>Retrieve one calculation value from the batch, typically for the value
 of one cell in a pivot table.</p><h3>Usage</h3>
<p><div class="r"></p><pre><span class='no'>PivotBatch</span>$<span class='fu'>getSummaryValueFromBatch</span>(
  <span class='kw'>filters</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>calculationName</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>calculationGroupName</span> <span class='kw'>=</span> <span class='kw'>NULL</span>
)</pre><p></div></p>

<h3>Arguments</h3>
<p><div class="arguments"></p><dl'>
<dt><code>filters</code></dt><dd><p>A `PivotFilters` instance that specifies which value to
retrieve.  This filters object is a combination of the row, column
and calculation filters.</p></dd>

<dt><code>calculationName</code></dt><dd><p>The name of the calculation value to retrieve.</p></dd>

<dt><code>calculationGroupName</code></dt><dd><p>The calculation group of the
calculation to retrieve.</p></dd>

</dl><p></div></p>
<h3>Returns</h3>
<p>A single calculation value.</p>
<p><hr>
<a id="method-clone"></a></p><h3>Method <code>clone()</code></h3>
<p>The objects of this class are cloneable with this method.</p><h3>Usage</h3>
<p><div class="r"></p><pre><span class='no'>PivotBatch</span>$<span class='fu'>clone</span>(<span class='kw'>deep</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>)</pre><p></div></p>

<h3>Arguments</h3>
<p><div class="arguments"></p><dl'>
<dt><code>deep</code></dt><dd><p>Whether to make a deep clone.</p></dd>

</dl><p></div></p>



    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'># This class should only be created by the pivot table.
# It is not intended to be created outside of the pivot table.
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Christopher Bailiss.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.</p>
</div>

      </footer>
   </div>

  
<script src="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.1/docsearch.min.js" integrity="sha256-GKvGqXDznoRYHCwKXGnuchvKSwmx9SRMrZOTh2g4Sb0=" crossorigin="anonymous"></script>
<script>
  docsearch({
    
    
    apiKey: '16a61fa9a8811ff537cd1a528040a9e1',
    indexName: 'pivottabler',
    inputSelector: 'input#search-input.form-control',
    transformData: function(hits) {
      return hits.map(function (hit) {
        hit.url = updateHitURL(hit);
        return hit;
      });
    }
  });
</script>



  </body>
</html>


