<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>04. Regular Layout • pivottabler</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><!-- docsearch --><script src="../docsearch.js"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.1/docsearch.min.css" integrity="sha256-QOSRU/ra9ActyXkIBbiIB144aDBdtvXBcNc3OTNuX/Q=" crossorigin="anonymous">
<link href="../docsearch.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script><meta property="og:title" content="04. Regular Layout">
<meta property="og:description" content="">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-64707587-2"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-64707587-2');
</script>
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">pivottabler</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.3.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/v00-vignettes.html">pivottabler Vignettes</a>
    </li>
    <li>
      <a href="../articles/v01-introduction.html">01. Introduction</a>
    </li>
    <li>
      <a href="../articles/v02-datagroups.html">02. Data Groups</a>
    </li>
    <li>
      <a href="../articles/v03-calculations.html">03. Calculations</a>
    </li>
    <li>
      <a href="../articles/v04-regularlayout.html">04. Regular Layout</a>
    </li>
    <li>
      <a href="../articles/v05-outputs.html">04. Outputs</a>
    </li>
    <li>
      <a href="../articles/v06-latexoutput.html">05. Latex Output</a>
    </li>
    <li>
      <a href="../articles/v07-styling.html">06. Styling</a>
    </li>
    <li>
      <a href="../articles/v08-findingandformatting.html">07. Finding and Formatting</a>
    </li>
    <li>
      <a href="../articles/v09-cellcontext.html">08. Cell Context</a>
    </li>
    <li>
      <a href="../articles/v10-irregularlayout.html">09. Irregular Layout</a>
    </li>
    <li>
      <a href="../articles/v11-performance.html">10. Performance</a>
    </li>
    <li>
      <a href="../articles/v12-excelexport.html">12. Excel Export</a>
    </li>
    <li>
      <a href="../articles/v13-shiny.html">11. Shiny</a>
    </li>
    <li>
      <a href="../articles/vA1-appendix.html">A1. Appendix:  Details</a>
    </li>
    <li>
      <a href="../articles/vA2-appendix.html">A2. Appendix:  Calculations</a>
    </li>
    <li>
      <a href="../articles/vA3-appendix.html">A3. Appendix:  Class Overview</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/cbailiss/pivottabler">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
<form class="navbar-form navbar-right hidden-xs hidden-sm" role="search">
        <div class="form-group">
          <input type="search" class="form-control" name="search-input" id="search-input" placeholder="Search..." aria-label="Search for..." autocomplete="off">
</div>
      </form>
      
    </div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="v04-regularlayout_files/htmlwidgets-1.5.1/htmlwidgets.js"></script><script src="v04-regularlayout_files/pivottabler-binding-1.3.0/pivottabler.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>04. Regular Layout</h1>
                        <h4 class="author">Chris Bailiss</h4>
            
            <h4 class="date">2020-02-06</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/cbailiss/pivottabler/blob/master/vignettes/v04-regularlayout.Rmd"><code>vignettes/v04-regularlayout.Rmd</code></a></small>
      <div class="hidden name"><code>v04-regularlayout.Rmd</code></div>

    </div>

    
    
<div id="in-this-vignette" class="section level2">
<h2 class="hasAnchor">
<a href="#in-this-vignette" class="anchor"></a>In This Vignette</h2>
<ul>
<li>Introduction</li>
<li>What is Regular Layout?</li>
<li>Types of Regular Layout</li>
<li>Tabular Layout</li>
<li>Outline Layout</li>
<li>Outline Layout Settings</li>
<li>Multiple Level Outline Layout Example</li>
<li>Outline Calculation Example</li>
<li>Irregular Layout</li>
<li>Further Reading</li>
</ul>
</div>
<div id="introduction" class="section level2">
<h2 class="hasAnchor">
<a href="#introduction" class="anchor"></a>Introduction</h2>
<p>This page defines “regular layout” then describes the two main types of regular layout that are supported by the <code>pivottabler</code> package. Most of this page is spent discussing the more advanced “outline” layout.</p>
</div>
<div id="what-is-regular-layout" class="section level2">
<h2 class="hasAnchor">
<a href="#what-is-regular-layout" class="anchor"></a>What is Regular Layout?</h2>
<p>Consider the following example pivot table:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" title="1"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(pivottabler)</a>
<a class="sourceLine" id="cb1-2" title="2">pt &lt;-<span class="st"> </span>PivotTable<span class="op">$</span><span class="kw">new</span>()</a>
<a class="sourceLine" id="cb1-3" title="3">pt<span class="op">$</span><span class="kw">addData</span>(bhmtrains)</a>
<a class="sourceLine" id="cb1-4" title="4">pt<span class="op">$</span><span class="kw">addColumnDataGroups</span>(<span class="st">"TrainCategory"</span>)</a>
<a class="sourceLine" id="cb1-5" title="5">pt<span class="op">$</span><span class="kw">addColumnDataGroups</span>(<span class="st">"PowerType"</span>)</a>
<a class="sourceLine" id="cb1-6" title="6">pt<span class="op">$</span><span class="kw">addRowDataGroups</span>(<span class="st">"TOC"</span>)</a>
<a class="sourceLine" id="cb1-7" title="7">pt<span class="op">$</span><span class="kw">defineCalculation</span>(<span class="dt">calculationName=</span><span class="st">"TotalTrains"</span>, <span class="dt">summariseExpression=</span><span class="st">"n()"</span>)</a>
<a class="sourceLine" id="cb1-8" title="8">pt<span class="op">$</span><span class="kw">renderPivot</span>()</a></code></pre></div>
<div id="htmlwidget-b2669d869db5c34d239c" style="width:auto;height:auto;" class="pivottabler html-widget"></div>
<script type="application/json" data-for="htmlwidget-b2669d869db5c34d239c">{"x":{"tableCss":".Table {display: table; border-collapse: collapse; }\r\n.ColumnHeader {font-family: Arial; font-size: 0.75em; border: 1px solid lightgray; vertical-align: middle; font-weight: bold; background-color: #F2F2F2; padding: 2px; text-align: center; }\r\n.RowHeader {font-family: Arial; font-size: 0.75em; border: 1px solid lightgray; vertical-align: middle; font-weight: bold; background-color: #F2F2F2; padding: 2px 8px 2px 2px; text-align: left; }\r\n.Cell {font-family: Arial; font-size: 0.75em; padding: 2px 2px 2px 8px; border: 1px solid lightgray; vertical-align: middle; text-align: right; }\r\n.OutlineColumnHeader {font-family: Arial; font-size: 0.75em; border: 1px solid lightgray; vertical-align: middle; font-weight: bold; background-color: #F2F2F2; padding: 2px; text-align: center; }\r\n.OutlineRowHeader {font-family: Arial; font-size: 0.75em; border: 1px solid lightgray; vertical-align: middle; font-weight: bold; background-color: #F2F2F2; padding: 2px 8px 2px 2px; text-align: left; }\r\n.OutlineCell {font-family: Arial; font-size: 0.75em; padding: 2px 2px 2px 8px; border: 1px solid lightgray; vertical-align: middle; text-align: right; background-color: #F8F8F8; font-weight: bold; }\r\n.Total {font-family: Arial; font-size: 0.75em; padding: 2px 2px 2px 8px; border: 1px solid lightgray; vertical-align: middle; text-align: right; }\r\n","tableHtml":"<table class=\"Table\">\n  <tr>\n    <th class=\"RowHeader\" rowspan=\"2\">&nbsp;<\/th>\n    <th class=\"ColumnHeader\" colspan=\"4\">Express Passenger<\/th>\n    <th class=\"ColumnHeader\" colspan=\"3\">Ordinary Passenger<\/th>\n    <th class=\"ColumnHeader\">Total<\/th>\n  <\/tr>\n  <tr>\n    <th class=\"ColumnHeader\">DMU<\/th>\n    <th class=\"ColumnHeader\">EMU<\/th>\n    <th class=\"ColumnHeader\">HST<\/th>\n    <th class=\"ColumnHeader\">Total<\/th>\n    <th class=\"ColumnHeader\">DMU<\/th>\n    <th class=\"ColumnHeader\">EMU<\/th>\n    <th class=\"ColumnHeader\">Total<\/th>\n    <th class=\"ColumnHeader\"><\/th>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\">Arriva Trains Wales<\/th>\n    <td class=\"Cell\">3079<\/td>\n    <td class=\"Cell\"><\/td>\n    <td class=\"Cell\"><\/td>\n    <td class=\"Total\">3079<\/td>\n    <td class=\"Cell\">830<\/td>\n    <td class=\"Cell\"><\/td>\n    <td class=\"Total\">830<\/td>\n    <td class=\"Total\">3909<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\">CrossCountry<\/th>\n    <td class=\"Cell\">22133<\/td>\n    <td class=\"Cell\"><\/td>\n    <td class=\"Cell\">732<\/td>\n    <td class=\"Total\">22865<\/td>\n    <td class=\"Cell\">63<\/td>\n    <td class=\"Cell\"><\/td>\n    <td class=\"Total\">63<\/td>\n    <td class=\"Total\">22928<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\">London Midland<\/th>\n    <td class=\"Cell\">5638<\/td>\n    <td class=\"Cell\">8849<\/td>\n    <td class=\"Cell\"><\/td>\n    <td class=\"Total\">14487<\/td>\n    <td class=\"Cell\">5591<\/td>\n    <td class=\"Cell\">28201<\/td>\n    <td class=\"Total\">33792<\/td>\n    <td class=\"Total\">48279<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\">Virgin Trains<\/th>\n    <td class=\"Cell\">2137<\/td>\n    <td class=\"Cell\">6457<\/td>\n    <td class=\"Cell\"><\/td>\n    <td class=\"Total\">8594<\/td>\n    <td class=\"Cell\"><\/td>\n    <td class=\"Cell\"><\/td>\n    <td class=\"Total\"><\/td>\n    <td class=\"Total\">8594<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\">Total<\/th>\n    <td class=\"Total\">32987<\/td>\n    <td class=\"Total\">15306<\/td>\n    <td class=\"Total\">732<\/td>\n    <td class=\"Total\">49025<\/td>\n    <td class=\"Total\">6484<\/td>\n    <td class=\"Total\">28201<\/td>\n    <td class=\"Total\">34685<\/td>\n    <td class=\"Total\">83710<\/td>\n  <\/tr>\n<\/table>","settings":[]},"evals":[],"jsHooks":[]}</script><p>This is a regular pivot table because each level of row and column headings is related to a single variable only, i.e.</p>
<ul>
<li>The first level of column headings (“Express Passenger”, “Ordinary Passenger”, etc.) are all related to the “TrainCategory” variable.</li>
<li>The second level of column headings (“DMU”, “EMU”, etc.) are all related to the “PowerType” variable.</li>
<li>The first level of row headings (“Arriva Trains Wales”, “CrossCountry”, etc.) are all related to the “TOC” (Train Operating Company) variable.</li>
</ul>
</div>
<div id="types-of-regular-layout" class="section level2">
<h2 class="hasAnchor">
<a href="#types-of-regular-layout" class="anchor"></a>Types of Regular Layout</h2>
<p>The <code>pivottabler</code> package supports broadly two types of regular layout:</p>
<ul>
<li>Tabular Layout</li>
<li>Outline Layout</li>
</ul>
<p>These layout types can be mixed in a pivot table.</p>
</div>
<div id="tabular-layout" class="section level2">
<h2 class="hasAnchor">
<a href="#tabular-layout" class="anchor"></a>Tabular Layout</h2>
<p>Tabular layout is the simplest pivot table layout. Where there are multiple levels of row or column data groups, then the child groups are rendered “under” the parent group. For column data groups, that is directly under the parent. For row data groups, that is to the right of the parent.</p>
<p>There are no additional settings for tabular layout.</p>
<p>The pivot table shown above is an example of a pivot table using a tabular layout. Another example of a pivot table using tabular layout is shown below.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" title="1"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(pivottabler)</a>
<a class="sourceLine" id="cb2-2" title="2">pt &lt;-<span class="st"> </span>PivotTable<span class="op">$</span><span class="kw">new</span>()</a>
<a class="sourceLine" id="cb2-3" title="3">pt<span class="op">$</span><span class="kw">addData</span>(bhmtrains)</a>
<a class="sourceLine" id="cb2-4" title="4">pt<span class="op">$</span><span class="kw">addColumnDataGroups</span>(<span class="st">"TrainCategory"</span>)</a>
<a class="sourceLine" id="cb2-5" title="5">pt<span class="op">$</span><span class="kw">addRowDataGroups</span>(<span class="st">"TOC"</span>)</a>
<a class="sourceLine" id="cb2-6" title="6">pt<span class="op">$</span><span class="kw">addRowDataGroups</span>(<span class="st">"PowerType"</span>)</a>
<a class="sourceLine" id="cb2-7" title="7">pt<span class="op">$</span><span class="kw">defineCalculation</span>(<span class="dt">calculationName=</span><span class="st">"TotalTrains"</span>, <span class="dt">summariseExpression=</span><span class="st">"n()"</span>)</a>
<a class="sourceLine" id="cb2-8" title="8">pt<span class="op">$</span><span class="kw">renderPivot</span>()</a></code></pre></div>
<div id="htmlwidget-0c0ece9c07e71277d765" style="width:auto;height:auto;" class="pivottabler html-widget"></div>
<script type="application/json" data-for="htmlwidget-0c0ece9c07e71277d765">{"x":{"tableCss":".Table {display: table; border-collapse: collapse; }\r\n.ColumnHeader {font-family: Arial; font-size: 0.75em; border: 1px solid lightgray; vertical-align: middle; font-weight: bold; background-color: #F2F2F2; padding: 2px; text-align: center; }\r\n.RowHeader {font-family: Arial; font-size: 0.75em; border: 1px solid lightgray; vertical-align: middle; font-weight: bold; background-color: #F2F2F2; padding: 2px 8px 2px 2px; text-align: left; }\r\n.Cell {font-family: Arial; font-size: 0.75em; padding: 2px 2px 2px 8px; border: 1px solid lightgray; vertical-align: middle; text-align: right; }\r\n.OutlineColumnHeader {font-family: Arial; font-size: 0.75em; border: 1px solid lightgray; vertical-align: middle; font-weight: bold; background-color: #F2F2F2; padding: 2px; text-align: center; }\r\n.OutlineRowHeader {font-family: Arial; font-size: 0.75em; border: 1px solid lightgray; vertical-align: middle; font-weight: bold; background-color: #F2F2F2; padding: 2px 8px 2px 2px; text-align: left; }\r\n.OutlineCell {font-family: Arial; font-size: 0.75em; padding: 2px 2px 2px 8px; border: 1px solid lightgray; vertical-align: middle; text-align: right; background-color: #F8F8F8; font-weight: bold; }\r\n.Total {font-family: Arial; font-size: 0.75em; padding: 2px 2px 2px 8px; border: 1px solid lightgray; vertical-align: middle; text-align: right; }\r\n","tableHtml":"<table class=\"Table\">\n  <tr>\n    <th class=\"RowHeader\" colspan=\"2\">&nbsp;<\/th>\n    <th class=\"ColumnHeader\">Express Passenger<\/th>\n    <th class=\"ColumnHeader\">Ordinary Passenger<\/th>\n    <th class=\"ColumnHeader\">Total<\/th>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\" rowspan=\"2\">Arriva Trains Wales<\/th>\n    <th class=\"RowHeader\">DMU<\/th>\n    <td class=\"Cell\">3079<\/td>\n    <td class=\"Cell\">830<\/td>\n    <td class=\"Total\">3909<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\">Total<\/th>\n    <td class=\"Total\">3079<\/td>\n    <td class=\"Total\">830<\/td>\n    <td class=\"Total\">3909<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\" rowspan=\"3\">CrossCountry<\/th>\n    <th class=\"RowHeader\">DMU<\/th>\n    <td class=\"Cell\">22133<\/td>\n    <td class=\"Cell\">63<\/td>\n    <td class=\"Total\">22196<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\">HST<\/th>\n    <td class=\"Cell\">732<\/td>\n    <td class=\"Cell\"><\/td>\n    <td class=\"Total\">732<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\">Total<\/th>\n    <td class=\"Total\">22865<\/td>\n    <td class=\"Total\">63<\/td>\n    <td class=\"Total\">22928<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\" rowspan=\"3\">London Midland<\/th>\n    <th class=\"RowHeader\">DMU<\/th>\n    <td class=\"Cell\">5638<\/td>\n    <td class=\"Cell\">5591<\/td>\n    <td class=\"Total\">11229<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\">EMU<\/th>\n    <td class=\"Cell\">8849<\/td>\n    <td class=\"Cell\">28201<\/td>\n    <td class=\"Total\">37050<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\">Total<\/th>\n    <td class=\"Total\">14487<\/td>\n    <td class=\"Total\">33792<\/td>\n    <td class=\"Total\">48279<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\" rowspan=\"3\">Virgin Trains<\/th>\n    <th class=\"RowHeader\">DMU<\/th>\n    <td class=\"Cell\">2137<\/td>\n    <td class=\"Cell\"><\/td>\n    <td class=\"Total\">2137<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\">EMU<\/th>\n    <td class=\"Cell\">6457<\/td>\n    <td class=\"Cell\"><\/td>\n    <td class=\"Total\">6457<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\">Total<\/th>\n    <td class=\"Total\">8594<\/td>\n    <td class=\"Total\"><\/td>\n    <td class=\"Total\">8594<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\">Total<\/th>\n    <th class=\"RowHeader\"><\/th>\n    <td class=\"Total\">49025<\/td>\n    <td class=\"Total\">34685<\/td>\n    <td class=\"Total\">83710<\/td>\n  <\/tr>\n<\/table>","settings":[]},"evals":[],"jsHooks":[]}</script>
</div>
<div id="outline-layout" class="section level2">
<h2 class="hasAnchor">
<a href="#outline-layout" class="anchor"></a>Outline Layout</h2>
<p>Outline layout is an alternative way of rendering row data groups. Parent row data groups are rendered as headers just above the child data groups (i.e. vertically above). The last level of row data groups is not specified to use outline layout and remains using tabular layout.</p>
<p>Outline layout is useful when the row data group captions are longer since the text can flow to the right. Outlined row data groups act as separators in the pivot table, which can sometimes make the pivot table easier to read.</p>
<p>Outline layout usually makes pivot tables narrower (i.e. reduced width) and longer (i.e. taller vertically).</p>
<p>The simplest way to enable outline layout is to specify <code>outlineBefore=TRUE</code> as an argument when adding the parent row data groups.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" title="1"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(pivottabler)</a>
<a class="sourceLine" id="cb3-2" title="2">pt &lt;-<span class="st"> </span>PivotTable<span class="op">$</span><span class="kw">new</span>()</a>
<a class="sourceLine" id="cb3-3" title="3">pt<span class="op">$</span><span class="kw">addData</span>(bhmtrains)</a>
<a class="sourceLine" id="cb3-4" title="4">pt<span class="op">$</span><span class="kw">addColumnDataGroups</span>(<span class="st">"TrainCategory"</span>)</a>
<a class="sourceLine" id="cb3-5" title="5">pt<span class="op">$</span><span class="kw">addRowDataGroups</span>(<span class="st">"TOC"</span>, <span class="dt">outlineBefore=</span><span class="ot">TRUE</span>)</a>
<a class="sourceLine" id="cb3-6" title="6">pt<span class="op">$</span><span class="kw">addRowDataGroups</span>(<span class="st">"PowerType"</span>)</a>
<a class="sourceLine" id="cb3-7" title="7">pt<span class="op">$</span><span class="kw">defineCalculation</span>(<span class="dt">calculationName=</span><span class="st">"TotalTrains"</span>, <span class="dt">summariseExpression=</span><span class="st">"n()"</span>)</a>
<a class="sourceLine" id="cb3-8" title="8">pt<span class="op">$</span><span class="kw">renderPivot</span>()</a></code></pre></div>
<div id="htmlwidget-2dcccc68b08c52a365fa" style="width:auto;height:auto;" class="pivottabler html-widget"></div>
<script type="application/json" data-for="htmlwidget-2dcccc68b08c52a365fa">{"x":{"tableCss":".Table {display: table; border-collapse: collapse; }\r\n.ColumnHeader {font-family: Arial; font-size: 0.75em; border: 1px solid lightgray; vertical-align: middle; font-weight: bold; background-color: #F2F2F2; padding: 2px; text-align: center; }\r\n.RowHeader {font-family: Arial; font-size: 0.75em; border: 1px solid lightgray; vertical-align: middle; font-weight: bold; background-color: #F2F2F2; padding: 2px 8px 2px 2px; text-align: left; }\r\n.Cell {font-family: Arial; font-size: 0.75em; padding: 2px 2px 2px 8px; border: 1px solid lightgray; vertical-align: middle; text-align: right; }\r\n.OutlineColumnHeader {font-family: Arial; font-size: 0.75em; border: 1px solid lightgray; vertical-align: middle; font-weight: bold; background-color: #F2F2F2; padding: 2px; text-align: center; }\r\n.OutlineRowHeader {font-family: Arial; font-size: 0.75em; border: 1px solid lightgray; vertical-align: middle; font-weight: bold; background-color: #F2F2F2; padding: 2px 8px 2px 2px; text-align: left; }\r\n.OutlineCell {font-family: Arial; font-size: 0.75em; padding: 2px 2px 2px 8px; border: 1px solid lightgray; vertical-align: middle; text-align: right; background-color: #F8F8F8; font-weight: bold; }\r\n.Total {font-family: Arial; font-size: 0.75em; padding: 2px 2px 2px 8px; border: 1px solid lightgray; vertical-align: middle; text-align: right; }\r\n","tableHtml":"<table class=\"Table\">\n  <tr>\n    <th class=\"RowHeader\" colspan=\"2\">&nbsp;<\/th>\n    <th class=\"ColumnHeader\">Express Passenger<\/th>\n    <th class=\"ColumnHeader\">Ordinary Passenger<\/th>\n    <th class=\"ColumnHeader\">Total<\/th>\n  <\/tr>\n  <tr>\n    <th class=\"OutlineRowHeader\" colspan=\"2\">Arriva Trains Wales<\/th>\n    <td class=\"OutlineCell\" colspan=\"3\">&nbsp;<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\" rowspan=\"2\"><\/th>\n    <th class=\"RowHeader\">DMU<\/th>\n    <td class=\"Cell\">3079<\/td>\n    <td class=\"Cell\">830<\/td>\n    <td class=\"Total\">3909<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\">Total<\/th>\n    <td class=\"Total\">3079<\/td>\n    <td class=\"Total\">830<\/td>\n    <td class=\"Total\">3909<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"OutlineRowHeader\" colspan=\"2\">CrossCountry<\/th>\n    <td class=\"OutlineCell\" colspan=\"3\">&nbsp;<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\" rowspan=\"3\"><\/th>\n    <th class=\"RowHeader\">DMU<\/th>\n    <td class=\"Cell\">22133<\/td>\n    <td class=\"Cell\">63<\/td>\n    <td class=\"Total\">22196<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\">HST<\/th>\n    <td class=\"Cell\">732<\/td>\n    <td class=\"Cell\"><\/td>\n    <td class=\"Total\">732<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\">Total<\/th>\n    <td class=\"Total\">22865<\/td>\n    <td class=\"Total\">63<\/td>\n    <td class=\"Total\">22928<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"OutlineRowHeader\" colspan=\"2\">London Midland<\/th>\n    <td class=\"OutlineCell\" colspan=\"3\">&nbsp;<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\" rowspan=\"3\"><\/th>\n    <th class=\"RowHeader\">DMU<\/th>\n    <td class=\"Cell\">5638<\/td>\n    <td class=\"Cell\">5591<\/td>\n    <td class=\"Total\">11229<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\">EMU<\/th>\n    <td class=\"Cell\">8849<\/td>\n    <td class=\"Cell\">28201<\/td>\n    <td class=\"Total\">37050<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\">Total<\/th>\n    <td class=\"Total\">14487<\/td>\n    <td class=\"Total\">33792<\/td>\n    <td class=\"Total\">48279<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"OutlineRowHeader\" colspan=\"2\">Virgin Trains<\/th>\n    <td class=\"OutlineCell\" colspan=\"3\">&nbsp;<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\" rowspan=\"3\"><\/th>\n    <th class=\"RowHeader\">DMU<\/th>\n    <td class=\"Cell\">2137<\/td>\n    <td class=\"Cell\"><\/td>\n    <td class=\"Total\">2137<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\">EMU<\/th>\n    <td class=\"Cell\">6457<\/td>\n    <td class=\"Cell\"><\/td>\n    <td class=\"Total\">6457<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\">Total<\/th>\n    <td class=\"Total\">8594<\/td>\n    <td class=\"Total\"><\/td>\n    <td class=\"Total\">8594<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\">Total<\/th>\n    <th class=\"RowHeader\"><\/th>\n    <td class=\"Total\">49025<\/td>\n    <td class=\"Total\">34685<\/td>\n    <td class=\"Total\">83710<\/td>\n  <\/tr>\n<\/table>","settings":[]},"evals":[],"jsHooks":[]}</script><p>Comparing one row data group:</p>
<div class="figure">
<img src="layout1.png" alt="Row Data Group in Tabular Layout"><p class="caption">Row Data Group in Tabular Layout</p>
</div>
<p><br></p>
<div class="figure">
<img src="layout2.png" alt="Row Data Group in Outline Layout"><p class="caption">Row Data Group in Outline Layout</p>
</div>
<p><br></p>
<p>Outline layout does not apply to the column data groups - since the text for column data groups already naturally flows to the right.</p>
<p>The example pivot table above uses <code>outlineBefore=TRUE</code>, which adds a header row above each row data group. By default, the caption of this data group is the data group value.</p>
<p>It is also possible to specify <code>outlineAfter=TRUE</code>. This adds a footer row below each rowdata group. By default, the caption of this data group is blank.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" title="1"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(pivottabler)</a>
<a class="sourceLine" id="cb4-2" title="2">pt &lt;-<span class="st"> </span>PivotTable<span class="op">$</span><span class="kw">new</span>()</a>
<a class="sourceLine" id="cb4-3" title="3">pt<span class="op">$</span><span class="kw">addData</span>(bhmtrains)</a>
<a class="sourceLine" id="cb4-4" title="4">pt<span class="op">$</span><span class="kw">addColumnDataGroups</span>(<span class="st">"TrainCategory"</span>)</a>
<a class="sourceLine" id="cb4-5" title="5">pt<span class="op">$</span><span class="kw">addRowDataGroups</span>(<span class="st">"TOC"</span>, <span class="dt">outlineBefore=</span><span class="ot">TRUE</span>, <span class="dt">outlineAfter=</span><span class="ot">TRUE</span>)</a>
<a class="sourceLine" id="cb4-6" title="6">pt<span class="op">$</span><span class="kw">addRowDataGroups</span>(<span class="st">"PowerType"</span>)</a>
<a class="sourceLine" id="cb4-7" title="7">pt<span class="op">$</span><span class="kw">defineCalculation</span>(<span class="dt">calculationName=</span><span class="st">"TotalTrains"</span>, <span class="dt">summariseExpression=</span><span class="st">"n()"</span>)</a>
<a class="sourceLine" id="cb4-8" title="8">pt<span class="op">$</span><span class="kw">renderPivot</span>()</a></code></pre></div>
<div id="htmlwidget-10a916c34e0dd0dd38f3" style="width:auto;height:auto;" class="pivottabler html-widget"></div>
<script type="application/json" data-for="htmlwidget-10a916c34e0dd0dd38f3">{"x":{"tableCss":".Table {display: table; border-collapse: collapse; }\r\n.ColumnHeader {font-family: Arial; font-size: 0.75em; border: 1px solid lightgray; vertical-align: middle; font-weight: bold; background-color: #F2F2F2; padding: 2px; text-align: center; }\r\n.RowHeader {font-family: Arial; font-size: 0.75em; border: 1px solid lightgray; vertical-align: middle; font-weight: bold; background-color: #F2F2F2; padding: 2px 8px 2px 2px; text-align: left; }\r\n.Cell {font-family: Arial; font-size: 0.75em; padding: 2px 2px 2px 8px; border: 1px solid lightgray; vertical-align: middle; text-align: right; }\r\n.OutlineColumnHeader {font-family: Arial; font-size: 0.75em; border: 1px solid lightgray; vertical-align: middle; font-weight: bold; background-color: #F2F2F2; padding: 2px; text-align: center; }\r\n.OutlineRowHeader {font-family: Arial; font-size: 0.75em; border: 1px solid lightgray; vertical-align: middle; font-weight: bold; background-color: #F2F2F2; padding: 2px 8px 2px 2px; text-align: left; }\r\n.OutlineCell {font-family: Arial; font-size: 0.75em; padding: 2px 2px 2px 8px; border: 1px solid lightgray; vertical-align: middle; text-align: right; background-color: #F8F8F8; font-weight: bold; }\r\n.Total {font-family: Arial; font-size: 0.75em; padding: 2px 2px 2px 8px; border: 1px solid lightgray; vertical-align: middle; text-align: right; }\r\n","tableHtml":"<table class=\"Table\">\n  <tr>\n    <th class=\"RowHeader\" colspan=\"2\">&nbsp;<\/th>\n    <th class=\"ColumnHeader\">Express Passenger<\/th>\n    <th class=\"ColumnHeader\">Ordinary Passenger<\/th>\n    <th class=\"ColumnHeader\">Total<\/th>\n  <\/tr>\n  <tr>\n    <th class=\"OutlineRowHeader\" colspan=\"2\">Arriva Trains Wales<\/th>\n    <td class=\"OutlineCell\" colspan=\"3\">&nbsp;<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\" rowspan=\"2\"><\/th>\n    <th class=\"RowHeader\">DMU<\/th>\n    <td class=\"Cell\">3079<\/td>\n    <td class=\"Cell\">830<\/td>\n    <td class=\"Total\">3909<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\">Total<\/th>\n    <td class=\"Total\">3079<\/td>\n    <td class=\"Total\">830<\/td>\n    <td class=\"Total\">3909<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"OutlineRowHeader\" colspan=\"2\"><\/th>\n    <td class=\"OutlineCell\" colspan=\"3\">&nbsp;<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"OutlineRowHeader\" colspan=\"2\">CrossCountry<\/th>\n    <td class=\"OutlineCell\" colspan=\"3\">&nbsp;<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\" rowspan=\"3\"><\/th>\n    <th class=\"RowHeader\">DMU<\/th>\n    <td class=\"Cell\">22133<\/td>\n    <td class=\"Cell\">63<\/td>\n    <td class=\"Total\">22196<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\">HST<\/th>\n    <td class=\"Cell\">732<\/td>\n    <td class=\"Cell\"><\/td>\n    <td class=\"Total\">732<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\">Total<\/th>\n    <td class=\"Total\">22865<\/td>\n    <td class=\"Total\">63<\/td>\n    <td class=\"Total\">22928<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"OutlineRowHeader\" colspan=\"2\"><\/th>\n    <td class=\"OutlineCell\" colspan=\"3\">&nbsp;<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"OutlineRowHeader\" colspan=\"2\">London Midland<\/th>\n    <td class=\"OutlineCell\" colspan=\"3\">&nbsp;<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\" rowspan=\"3\"><\/th>\n    <th class=\"RowHeader\">DMU<\/th>\n    <td class=\"Cell\">5638<\/td>\n    <td class=\"Cell\">5591<\/td>\n    <td class=\"Total\">11229<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\">EMU<\/th>\n    <td class=\"Cell\">8849<\/td>\n    <td class=\"Cell\">28201<\/td>\n    <td class=\"Total\">37050<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\">Total<\/th>\n    <td class=\"Total\">14487<\/td>\n    <td class=\"Total\">33792<\/td>\n    <td class=\"Total\">48279<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"OutlineRowHeader\" colspan=\"2\"><\/th>\n    <td class=\"OutlineCell\" colspan=\"3\">&nbsp;<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"OutlineRowHeader\" colspan=\"2\">Virgin Trains<\/th>\n    <td class=\"OutlineCell\" colspan=\"3\">&nbsp;<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\" rowspan=\"3\"><\/th>\n    <th class=\"RowHeader\">DMU<\/th>\n    <td class=\"Cell\">2137<\/td>\n    <td class=\"Cell\"><\/td>\n    <td class=\"Total\">2137<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\">EMU<\/th>\n    <td class=\"Cell\">6457<\/td>\n    <td class=\"Cell\"><\/td>\n    <td class=\"Total\">6457<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\">Total<\/th>\n    <td class=\"Total\">8594<\/td>\n    <td class=\"Total\"><\/td>\n    <td class=\"Total\">8594<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"OutlineRowHeader\" colspan=\"2\"><\/th>\n    <td class=\"OutlineCell\" colspan=\"3\">&nbsp;<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\">Total<\/th>\n    <th class=\"RowHeader\"><\/th>\n    <td class=\"Total\">49025<\/td>\n    <td class=\"Total\">34685<\/td>\n    <td class=\"Total\">83710<\/td>\n  <\/tr>\n<\/table>","settings":[]},"evals":[],"jsHooks":[]}</script>
</div>
<div id="outline-layout-settings" class="section level2">
<h2 class="hasAnchor">
<a href="#outline-layout-settings" class="anchor"></a>Outline Layout Settings</h2>
<p>Some aspects of the outline layout can be specifically controlled. This is done by specifying a list of settings for the <code>outlineBefore</code>, <code>outlineAfter</code> and/or <code>outlineTotal</code> arguments.</p>
<div id="the-mergespace-setting" class="section level3">
<h3 class="hasAnchor">
<a href="#the-mergespace-setting" class="anchor"></a>The <code>mergeSpace</code> Setting</h3>
<p><code>mergeSpace</code> controls how the empty space to the right of the outline row is merged.</p>
<div id="donotmerge" class="section level4">
<h4 class="hasAnchor">
<a href="#donotmerge" class="anchor"></a>doNotMerge</h4>
<p>This specifies that nothing should be merged.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" title="1"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(pivottabler)</a>
<a class="sourceLine" id="cb5-2" title="2">pt &lt;-<span class="st"> </span>PivotTable<span class="op">$</span><span class="kw">new</span>()</a>
<a class="sourceLine" id="cb5-3" title="3">pt<span class="op">$</span><span class="kw">addData</span>(bhmtrains)</a>
<a class="sourceLine" id="cb5-4" title="4">pt<span class="op">$</span><span class="kw">addColumnDataGroups</span>(<span class="st">"TrainCategory"</span>)</a>
<a class="sourceLine" id="cb5-5" title="5">pt<span class="op">$</span><span class="kw">addRowDataGroups</span>(<span class="st">"TOC"</span>, <span class="dt">outlineBefore=</span><span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="dt">mergeSpace=</span><span class="st">"doNotMerge"</span>))</a>
<a class="sourceLine" id="cb5-6" title="6">pt<span class="op">$</span><span class="kw">addRowDataGroups</span>(<span class="st">"PowerType"</span>)</a>
<a class="sourceLine" id="cb5-7" title="7">pt<span class="op">$</span><span class="kw">defineCalculation</span>(<span class="dt">calculationName=</span><span class="st">"TotalTrains"</span>, <span class="dt">summariseExpression=</span><span class="st">"n()"</span>)</a>
<a class="sourceLine" id="cb5-8" title="8">pt<span class="op">$</span><span class="kw">renderPivot</span>()</a></code></pre></div>
<div id="htmlwidget-a1a3d6a983d0c129888c" style="width:auto;height:auto;" class="pivottabler html-widget"></div>
<script type="application/json" data-for="htmlwidget-a1a3d6a983d0c129888c">{"x":{"tableCss":".Table {display: table; border-collapse: collapse; }\r\n.ColumnHeader {font-family: Arial; font-size: 0.75em; border: 1px solid lightgray; vertical-align: middle; font-weight: bold; background-color: #F2F2F2; padding: 2px; text-align: center; }\r\n.RowHeader {font-family: Arial; font-size: 0.75em; border: 1px solid lightgray; vertical-align: middle; font-weight: bold; background-color: #F2F2F2; padding: 2px 8px 2px 2px; text-align: left; }\r\n.Cell {font-family: Arial; font-size: 0.75em; padding: 2px 2px 2px 8px; border: 1px solid lightgray; vertical-align: middle; text-align: right; }\r\n.OutlineColumnHeader {font-family: Arial; font-size: 0.75em; border: 1px solid lightgray; vertical-align: middle; font-weight: bold; background-color: #F2F2F2; padding: 2px; text-align: center; }\r\n.OutlineRowHeader {font-family: Arial; font-size: 0.75em; border: 1px solid lightgray; vertical-align: middle; font-weight: bold; background-color: #F2F2F2; padding: 2px 8px 2px 2px; text-align: left; }\r\n.OutlineCell {font-family: Arial; font-size: 0.75em; padding: 2px 2px 2px 8px; border: 1px solid lightgray; vertical-align: middle; text-align: right; background-color: #F8F8F8; font-weight: bold; }\r\n.Total {font-family: Arial; font-size: 0.75em; padding: 2px 2px 2px 8px; border: 1px solid lightgray; vertical-align: middle; text-align: right; }\r\n","tableHtml":"<table class=\"Table\">\n  <tr>\n    <th class=\"RowHeader\" colspan=\"2\">&nbsp;<\/th>\n    <th class=\"ColumnHeader\">Express Passenger<\/th>\n    <th class=\"ColumnHeader\">Ordinary Passenger<\/th>\n    <th class=\"ColumnHeader\">Total<\/th>\n  <\/tr>\n  <tr>\n    <th class=\"OutlineRowHeader\">Arriva Trains Wales<\/th>\n    <th class=\"OutlineRowHeader\"><\/th>\n    <td class=\"OutlineCell\"><\/td>\n    <td class=\"OutlineCell\"><\/td>\n    <td class=\"OutlineCell\"><\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\" rowspan=\"2\"><\/th>\n    <th class=\"RowHeader\">DMU<\/th>\n    <td class=\"Cell\">3079<\/td>\n    <td class=\"Cell\">830<\/td>\n    <td class=\"Total\">3909<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\">Total<\/th>\n    <td class=\"Total\">3079<\/td>\n    <td class=\"Total\">830<\/td>\n    <td class=\"Total\">3909<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"OutlineRowHeader\">CrossCountry<\/th>\n    <th class=\"OutlineRowHeader\"><\/th>\n    <td class=\"OutlineCell\"><\/td>\n    <td class=\"OutlineCell\"><\/td>\n    <td class=\"OutlineCell\"><\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\" rowspan=\"3\"><\/th>\n    <th class=\"RowHeader\">DMU<\/th>\n    <td class=\"Cell\">22133<\/td>\n    <td class=\"Cell\">63<\/td>\n    <td class=\"Total\">22196<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\">HST<\/th>\n    <td class=\"Cell\">732<\/td>\n    <td class=\"Cell\"><\/td>\n    <td class=\"Total\">732<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\">Total<\/th>\n    <td class=\"Total\">22865<\/td>\n    <td class=\"Total\">63<\/td>\n    <td class=\"Total\">22928<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"OutlineRowHeader\">London Midland<\/th>\n    <th class=\"OutlineRowHeader\"><\/th>\n    <td class=\"OutlineCell\"><\/td>\n    <td class=\"OutlineCell\"><\/td>\n    <td class=\"OutlineCell\"><\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\" rowspan=\"3\"><\/th>\n    <th class=\"RowHeader\">DMU<\/th>\n    <td class=\"Cell\">5638<\/td>\n    <td class=\"Cell\">5591<\/td>\n    <td class=\"Total\">11229<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\">EMU<\/th>\n    <td class=\"Cell\">8849<\/td>\n    <td class=\"Cell\">28201<\/td>\n    <td class=\"Total\">37050<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\">Total<\/th>\n    <td class=\"Total\">14487<\/td>\n    <td class=\"Total\">33792<\/td>\n    <td class=\"Total\">48279<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"OutlineRowHeader\">Virgin Trains<\/th>\n    <th class=\"OutlineRowHeader\"><\/th>\n    <td class=\"OutlineCell\"><\/td>\n    <td class=\"OutlineCell\"><\/td>\n    <td class=\"OutlineCell\"><\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\" rowspan=\"3\"><\/th>\n    <th class=\"RowHeader\">DMU<\/th>\n    <td class=\"Cell\">2137<\/td>\n    <td class=\"Cell\"><\/td>\n    <td class=\"Total\">2137<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\">EMU<\/th>\n    <td class=\"Cell\">6457<\/td>\n    <td class=\"Cell\"><\/td>\n    <td class=\"Total\">6457<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\">Total<\/th>\n    <td class=\"Total\">8594<\/td>\n    <td class=\"Total\"><\/td>\n    <td class=\"Total\">8594<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\">Total<\/th>\n    <th class=\"RowHeader\"><\/th>\n    <td class=\"Total\">49025<\/td>\n    <td class=\"Total\">34685<\/td>\n    <td class=\"Total\">83710<\/td>\n  <\/tr>\n<\/table>","settings":[]},"evals":[],"jsHooks":[]}</script>
</div>
<div id="datagroupsonly" class="section level4">
<h4 class="hasAnchor">
<a href="#datagroupsonly" class="anchor"></a>dataGroupsOnly</h4>
<p>This specifies that only the row headings should be merged.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" title="1"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(pivottabler)</a>
<a class="sourceLine" id="cb6-2" title="2">pt &lt;-<span class="st"> </span>PivotTable<span class="op">$</span><span class="kw">new</span>()</a>
<a class="sourceLine" id="cb6-3" title="3">pt<span class="op">$</span><span class="kw">addData</span>(bhmtrains)</a>
<a class="sourceLine" id="cb6-4" title="4">pt<span class="op">$</span><span class="kw">addColumnDataGroups</span>(<span class="st">"TrainCategory"</span>)</a>
<a class="sourceLine" id="cb6-5" title="5">pt<span class="op">$</span><span class="kw">addRowDataGroups</span>(<span class="st">"TOC"</span>, <span class="dt">outlineBefore=</span><span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="dt">mergeSpace=</span><span class="st">"dataGroupsOnly"</span>))</a>
<a class="sourceLine" id="cb6-6" title="6">pt<span class="op">$</span><span class="kw">addRowDataGroups</span>(<span class="st">"PowerType"</span>)</a>
<a class="sourceLine" id="cb6-7" title="7">pt<span class="op">$</span><span class="kw">defineCalculation</span>(<span class="dt">calculationName=</span><span class="st">"TotalTrains"</span>, <span class="dt">summariseExpression=</span><span class="st">"n()"</span>)</a>
<a class="sourceLine" id="cb6-8" title="8">pt<span class="op">$</span><span class="kw">renderPivot</span>()</a></code></pre></div>
<div id="htmlwidget-6aa35692dfeab8576562" style="width:auto;height:auto;" class="pivottabler html-widget"></div>
<script type="application/json" data-for="htmlwidget-6aa35692dfeab8576562">{"x":{"tableCss":".Table {display: table; border-collapse: collapse; }\r\n.ColumnHeader {font-family: Arial; font-size: 0.75em; border: 1px solid lightgray; vertical-align: middle; font-weight: bold; background-color: #F2F2F2; padding: 2px; text-align: center; }\r\n.RowHeader {font-family: Arial; font-size: 0.75em; border: 1px solid lightgray; vertical-align: middle; font-weight: bold; background-color: #F2F2F2; padding: 2px 8px 2px 2px; text-align: left; }\r\n.Cell {font-family: Arial; font-size: 0.75em; padding: 2px 2px 2px 8px; border: 1px solid lightgray; vertical-align: middle; text-align: right; }\r\n.OutlineColumnHeader {font-family: Arial; font-size: 0.75em; border: 1px solid lightgray; vertical-align: middle; font-weight: bold; background-color: #F2F2F2; padding: 2px; text-align: center; }\r\n.OutlineRowHeader {font-family: Arial; font-size: 0.75em; border: 1px solid lightgray; vertical-align: middle; font-weight: bold; background-color: #F2F2F2; padding: 2px 8px 2px 2px; text-align: left; }\r\n.OutlineCell {font-family: Arial; font-size: 0.75em; padding: 2px 2px 2px 8px; border: 1px solid lightgray; vertical-align: middle; text-align: right; background-color: #F8F8F8; font-weight: bold; }\r\n.Total {font-family: Arial; font-size: 0.75em; padding: 2px 2px 2px 8px; border: 1px solid lightgray; vertical-align: middle; text-align: right; }\r\n","tableHtml":"<table class=\"Table\">\n  <tr>\n    <th class=\"RowHeader\" colspan=\"2\">&nbsp;<\/th>\n    <th class=\"ColumnHeader\">Express Passenger<\/th>\n    <th class=\"ColumnHeader\">Ordinary Passenger<\/th>\n    <th class=\"ColumnHeader\">Total<\/th>\n  <\/tr>\n  <tr>\n    <th class=\"OutlineRowHeader\" colspan=\"2\">Arriva Trains Wales<\/th>\n    <td class=\"OutlineCell\"><\/td>\n    <td class=\"OutlineCell\"><\/td>\n    <td class=\"OutlineCell\"><\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\" rowspan=\"2\"><\/th>\n    <th class=\"RowHeader\">DMU<\/th>\n    <td class=\"Cell\">3079<\/td>\n    <td class=\"Cell\">830<\/td>\n    <td class=\"Total\">3909<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\">Total<\/th>\n    <td class=\"Total\">3079<\/td>\n    <td class=\"Total\">830<\/td>\n    <td class=\"Total\">3909<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"OutlineRowHeader\" colspan=\"2\">CrossCountry<\/th>\n    <td class=\"OutlineCell\"><\/td>\n    <td class=\"OutlineCell\"><\/td>\n    <td class=\"OutlineCell\"><\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\" rowspan=\"3\"><\/th>\n    <th class=\"RowHeader\">DMU<\/th>\n    <td class=\"Cell\">22133<\/td>\n    <td class=\"Cell\">63<\/td>\n    <td class=\"Total\">22196<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\">HST<\/th>\n    <td class=\"Cell\">732<\/td>\n    <td class=\"Cell\"><\/td>\n    <td class=\"Total\">732<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\">Total<\/th>\n    <td class=\"Total\">22865<\/td>\n    <td class=\"Total\">63<\/td>\n    <td class=\"Total\">22928<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"OutlineRowHeader\" colspan=\"2\">London Midland<\/th>\n    <td class=\"OutlineCell\"><\/td>\n    <td class=\"OutlineCell\"><\/td>\n    <td class=\"OutlineCell\"><\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\" rowspan=\"3\"><\/th>\n    <th class=\"RowHeader\">DMU<\/th>\n    <td class=\"Cell\">5638<\/td>\n    <td class=\"Cell\">5591<\/td>\n    <td class=\"Total\">11229<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\">EMU<\/th>\n    <td class=\"Cell\">8849<\/td>\n    <td class=\"Cell\">28201<\/td>\n    <td class=\"Total\">37050<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\">Total<\/th>\n    <td class=\"Total\">14487<\/td>\n    <td class=\"Total\">33792<\/td>\n    <td class=\"Total\">48279<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"OutlineRowHeader\" colspan=\"2\">Virgin Trains<\/th>\n    <td class=\"OutlineCell\"><\/td>\n    <td class=\"OutlineCell\"><\/td>\n    <td class=\"OutlineCell\"><\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\" rowspan=\"3\"><\/th>\n    <th class=\"RowHeader\">DMU<\/th>\n    <td class=\"Cell\">2137<\/td>\n    <td class=\"Cell\"><\/td>\n    <td class=\"Total\">2137<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\">EMU<\/th>\n    <td class=\"Cell\">6457<\/td>\n    <td class=\"Cell\"><\/td>\n    <td class=\"Total\">6457<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\">Total<\/th>\n    <td class=\"Total\">8594<\/td>\n    <td class=\"Total\"><\/td>\n    <td class=\"Total\">8594<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\">Total<\/th>\n    <th class=\"RowHeader\"><\/th>\n    <td class=\"Total\">49025<\/td>\n    <td class=\"Total\">34685<\/td>\n    <td class=\"Total\">83710<\/td>\n  <\/tr>\n<\/table>","settings":[]},"evals":[],"jsHooks":[]}</script>
</div>
<div id="cellsonly" class="section level4">
<h4 class="hasAnchor">
<a href="#cellsonly" class="anchor"></a>cellsOnly</h4>
<p>This specifies that only the cells should be merged.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb7-1" title="1"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(pivottabler)</a>
<a class="sourceLine" id="cb7-2" title="2">pt &lt;-<span class="st"> </span>PivotTable<span class="op">$</span><span class="kw">new</span>()</a>
<a class="sourceLine" id="cb7-3" title="3">pt<span class="op">$</span><span class="kw">addData</span>(bhmtrains)</a>
<a class="sourceLine" id="cb7-4" title="4">pt<span class="op">$</span><span class="kw">addColumnDataGroups</span>(<span class="st">"TrainCategory"</span>)</a>
<a class="sourceLine" id="cb7-5" title="5">pt<span class="op">$</span><span class="kw">addRowDataGroups</span>(<span class="st">"TOC"</span>, <span class="dt">outlineBefore=</span><span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="dt">mergeSpace=</span><span class="st">"cellsOnly"</span>))</a>
<a class="sourceLine" id="cb7-6" title="6">pt<span class="op">$</span><span class="kw">addRowDataGroups</span>(<span class="st">"PowerType"</span>)</a>
<a class="sourceLine" id="cb7-7" title="7">pt<span class="op">$</span><span class="kw">defineCalculation</span>(<span class="dt">calculationName=</span><span class="st">"TotalTrains"</span>, <span class="dt">summariseExpression=</span><span class="st">"n()"</span>)</a>
<a class="sourceLine" id="cb7-8" title="8">pt<span class="op">$</span><span class="kw">renderPivot</span>()</a></code></pre></div>
<div id="htmlwidget-7d0a0569045796d4292a" style="width:auto;height:auto;" class="pivottabler html-widget"></div>
<script type="application/json" data-for="htmlwidget-7d0a0569045796d4292a">{"x":{"tableCss":".Table {display: table; border-collapse: collapse; }\r\n.ColumnHeader {font-family: Arial; font-size: 0.75em; border: 1px solid lightgray; vertical-align: middle; font-weight: bold; background-color: #F2F2F2; padding: 2px; text-align: center; }\r\n.RowHeader {font-family: Arial; font-size: 0.75em; border: 1px solid lightgray; vertical-align: middle; font-weight: bold; background-color: #F2F2F2; padding: 2px 8px 2px 2px; text-align: left; }\r\n.Cell {font-family: Arial; font-size: 0.75em; padding: 2px 2px 2px 8px; border: 1px solid lightgray; vertical-align: middle; text-align: right; }\r\n.OutlineColumnHeader {font-family: Arial; font-size: 0.75em; border: 1px solid lightgray; vertical-align: middle; font-weight: bold; background-color: #F2F2F2; padding: 2px; text-align: center; }\r\n.OutlineRowHeader {font-family: Arial; font-size: 0.75em; border: 1px solid lightgray; vertical-align: middle; font-weight: bold; background-color: #F2F2F2; padding: 2px 8px 2px 2px; text-align: left; }\r\n.OutlineCell {font-family: Arial; font-size: 0.75em; padding: 2px 2px 2px 8px; border: 1px solid lightgray; vertical-align: middle; text-align: right; background-color: #F8F8F8; font-weight: bold; }\r\n.Total {font-family: Arial; font-size: 0.75em; padding: 2px 2px 2px 8px; border: 1px solid lightgray; vertical-align: middle; text-align: right; }\r\n","tableHtml":"<table class=\"Table\">\n  <tr>\n    <th class=\"RowHeader\" colspan=\"2\">&nbsp;<\/th>\n    <th class=\"ColumnHeader\">Express Passenger<\/th>\n    <th class=\"ColumnHeader\">Ordinary Passenger<\/th>\n    <th class=\"ColumnHeader\">Total<\/th>\n  <\/tr>\n  <tr>\n    <th class=\"OutlineRowHeader\">Arriva Trains Wales<\/th>\n    <th class=\"OutlineRowHeader\"><\/th>\n    <td class=\"OutlineCell\" colspan=\"3\">&nbsp;<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\" rowspan=\"2\"><\/th>\n    <th class=\"RowHeader\">DMU<\/th>\n    <td class=\"Cell\">3079<\/td>\n    <td class=\"Cell\">830<\/td>\n    <td class=\"Total\">3909<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\">Total<\/th>\n    <td class=\"Total\">3079<\/td>\n    <td class=\"Total\">830<\/td>\n    <td class=\"Total\">3909<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"OutlineRowHeader\">CrossCountry<\/th>\n    <th class=\"OutlineRowHeader\"><\/th>\n    <td class=\"OutlineCell\" colspan=\"3\">&nbsp;<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\" rowspan=\"3\"><\/th>\n    <th class=\"RowHeader\">DMU<\/th>\n    <td class=\"Cell\">22133<\/td>\n    <td class=\"Cell\">63<\/td>\n    <td class=\"Total\">22196<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\">HST<\/th>\n    <td class=\"Cell\">732<\/td>\n    <td class=\"Cell\"><\/td>\n    <td class=\"Total\">732<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\">Total<\/th>\n    <td class=\"Total\">22865<\/td>\n    <td class=\"Total\">63<\/td>\n    <td class=\"Total\">22928<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"OutlineRowHeader\">London Midland<\/th>\n    <th class=\"OutlineRowHeader\"><\/th>\n    <td class=\"OutlineCell\" colspan=\"3\">&nbsp;<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\" rowspan=\"3\"><\/th>\n    <th class=\"RowHeader\">DMU<\/th>\n    <td class=\"Cell\">5638<\/td>\n    <td class=\"Cell\">5591<\/td>\n    <td class=\"Total\">11229<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\">EMU<\/th>\n    <td class=\"Cell\">8849<\/td>\n    <td class=\"Cell\">28201<\/td>\n    <td class=\"Total\">37050<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\">Total<\/th>\n    <td class=\"Total\">14487<\/td>\n    <td class=\"Total\">33792<\/td>\n    <td class=\"Total\">48279<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"OutlineRowHeader\">Virgin Trains<\/th>\n    <th class=\"OutlineRowHeader\"><\/th>\n    <td class=\"OutlineCell\" colspan=\"3\">&nbsp;<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\" rowspan=\"3\"><\/th>\n    <th class=\"RowHeader\">DMU<\/th>\n    <td class=\"Cell\">2137<\/td>\n    <td class=\"Cell\"><\/td>\n    <td class=\"Total\">2137<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\">EMU<\/th>\n    <td class=\"Cell\">6457<\/td>\n    <td class=\"Cell\"><\/td>\n    <td class=\"Total\">6457<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\">Total<\/th>\n    <td class=\"Total\">8594<\/td>\n    <td class=\"Total\"><\/td>\n    <td class=\"Total\">8594<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\">Total<\/th>\n    <th class=\"RowHeader\"><\/th>\n    <td class=\"Total\">49025<\/td>\n    <td class=\"Total\">34685<\/td>\n    <td class=\"Total\">83710<\/td>\n  <\/tr>\n<\/table>","settings":[]},"evals":[],"jsHooks":[]}</script>
</div>
<div id="datagroupsandcellsas2" class="section level4">
<h4 class="hasAnchor">
<a href="#datagroupsandcellsas2" class="anchor"></a>dataGroupsAndCellsAs2</h4>
<p>This specifies that the row headings should be merged into one combined row heading and that the cells should be merged into one cell. This is the default used when <code>outlineBefore=TRUE</code> is specified.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb8-1" title="1"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(pivottabler)</a>
<a class="sourceLine" id="cb8-2" title="2">pt &lt;-<span class="st"> </span>PivotTable<span class="op">$</span><span class="kw">new</span>()</a>
<a class="sourceLine" id="cb8-3" title="3">pt<span class="op">$</span><span class="kw">addData</span>(bhmtrains)</a>
<a class="sourceLine" id="cb8-4" title="4">pt<span class="op">$</span><span class="kw">addColumnDataGroups</span>(<span class="st">"TrainCategory"</span>)</a>
<a class="sourceLine" id="cb8-5" title="5">pt<span class="op">$</span><span class="kw">addRowDataGroups</span>(<span class="st">"TOC"</span>, <span class="dt">outlineBefore=</span><span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="dt">mergeSpace=</span><span class="st">"dataGroupsAndCellsAs2"</span>))</a>
<a class="sourceLine" id="cb8-6" title="6">pt<span class="op">$</span><span class="kw">addRowDataGroups</span>(<span class="st">"PowerType"</span>)</a>
<a class="sourceLine" id="cb8-7" title="7">pt<span class="op">$</span><span class="kw">defineCalculation</span>(<span class="dt">calculationName=</span><span class="st">"TotalTrains"</span>, <span class="dt">summariseExpression=</span><span class="st">"n()"</span>)</a>
<a class="sourceLine" id="cb8-8" title="8">pt<span class="op">$</span><span class="kw">renderPivot</span>()</a></code></pre></div>
<div id="htmlwidget-de8ef92bc417c3dc215c" style="width:auto;height:auto;" class="pivottabler html-widget"></div>
<script type="application/json" data-for="htmlwidget-de8ef92bc417c3dc215c">{"x":{"tableCss":".Table {display: table; border-collapse: collapse; }\r\n.ColumnHeader {font-family: Arial; font-size: 0.75em; border: 1px solid lightgray; vertical-align: middle; font-weight: bold; background-color: #F2F2F2; padding: 2px; text-align: center; }\r\n.RowHeader {font-family: Arial; font-size: 0.75em; border: 1px solid lightgray; vertical-align: middle; font-weight: bold; background-color: #F2F2F2; padding: 2px 8px 2px 2px; text-align: left; }\r\n.Cell {font-family: Arial; font-size: 0.75em; padding: 2px 2px 2px 8px; border: 1px solid lightgray; vertical-align: middle; text-align: right; }\r\n.OutlineColumnHeader {font-family: Arial; font-size: 0.75em; border: 1px solid lightgray; vertical-align: middle; font-weight: bold; background-color: #F2F2F2; padding: 2px; text-align: center; }\r\n.OutlineRowHeader {font-family: Arial; font-size: 0.75em; border: 1px solid lightgray; vertical-align: middle; font-weight: bold; background-color: #F2F2F2; padding: 2px 8px 2px 2px; text-align: left; }\r\n.OutlineCell {font-family: Arial; font-size: 0.75em; padding: 2px 2px 2px 8px; border: 1px solid lightgray; vertical-align: middle; text-align: right; background-color: #F8F8F8; font-weight: bold; }\r\n.Total {font-family: Arial; font-size: 0.75em; padding: 2px 2px 2px 8px; border: 1px solid lightgray; vertical-align: middle; text-align: right; }\r\n","tableHtml":"<table class=\"Table\">\n  <tr>\n    <th class=\"RowHeader\" colspan=\"2\">&nbsp;<\/th>\n    <th class=\"ColumnHeader\">Express Passenger<\/th>\n    <th class=\"ColumnHeader\">Ordinary Passenger<\/th>\n    <th class=\"ColumnHeader\">Total<\/th>\n  <\/tr>\n  <tr>\n    <th class=\"OutlineRowHeader\" colspan=\"2\">Arriva Trains Wales<\/th>\n    <td class=\"OutlineCell\" colspan=\"3\">&nbsp;<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\" rowspan=\"2\"><\/th>\n    <th class=\"RowHeader\">DMU<\/th>\n    <td class=\"Cell\">3079<\/td>\n    <td class=\"Cell\">830<\/td>\n    <td class=\"Total\">3909<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\">Total<\/th>\n    <td class=\"Total\">3079<\/td>\n    <td class=\"Total\">830<\/td>\n    <td class=\"Total\">3909<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"OutlineRowHeader\" colspan=\"2\">CrossCountry<\/th>\n    <td class=\"OutlineCell\" colspan=\"3\">&nbsp;<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\" rowspan=\"3\"><\/th>\n    <th class=\"RowHeader\">DMU<\/th>\n    <td class=\"Cell\">22133<\/td>\n    <td class=\"Cell\">63<\/td>\n    <td class=\"Total\">22196<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\">HST<\/th>\n    <td class=\"Cell\">732<\/td>\n    <td class=\"Cell\"><\/td>\n    <td class=\"Total\">732<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\">Total<\/th>\n    <td class=\"Total\">22865<\/td>\n    <td class=\"Total\">63<\/td>\n    <td class=\"Total\">22928<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"OutlineRowHeader\" colspan=\"2\">London Midland<\/th>\n    <td class=\"OutlineCell\" colspan=\"3\">&nbsp;<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\" rowspan=\"3\"><\/th>\n    <th class=\"RowHeader\">DMU<\/th>\n    <td class=\"Cell\">5638<\/td>\n    <td class=\"Cell\">5591<\/td>\n    <td class=\"Total\">11229<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\">EMU<\/th>\n    <td class=\"Cell\">8849<\/td>\n    <td class=\"Cell\">28201<\/td>\n    <td class=\"Total\">37050<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\">Total<\/th>\n    <td class=\"Total\">14487<\/td>\n    <td class=\"Total\">33792<\/td>\n    <td class=\"Total\">48279<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"OutlineRowHeader\" colspan=\"2\">Virgin Trains<\/th>\n    <td class=\"OutlineCell\" colspan=\"3\">&nbsp;<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\" rowspan=\"3\"><\/th>\n    <th class=\"RowHeader\">DMU<\/th>\n    <td class=\"Cell\">2137<\/td>\n    <td class=\"Cell\"><\/td>\n    <td class=\"Total\">2137<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\">EMU<\/th>\n    <td class=\"Cell\">6457<\/td>\n    <td class=\"Cell\"><\/td>\n    <td class=\"Total\">6457<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\">Total<\/th>\n    <td class=\"Total\">8594<\/td>\n    <td class=\"Total\"><\/td>\n    <td class=\"Total\">8594<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\">Total<\/th>\n    <th class=\"RowHeader\"><\/th>\n    <td class=\"Total\">49025<\/td>\n    <td class=\"Total\">34685<\/td>\n    <td class=\"Total\">83710<\/td>\n  <\/tr>\n<\/table>","settings":[]},"evals":[],"jsHooks":[]}</script>
</div>
<div id="datagroupsandcellsas1" class="section level4">
<h4 class="hasAnchor">
<a href="#datagroupsandcellsas1" class="anchor"></a>dataGroupsAndCellsAs1</h4>
<p>This specifies that the row headings and cells should all be merged into one.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb9-1" title="1"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(pivottabler)</a>
<a class="sourceLine" id="cb9-2" title="2">pt &lt;-<span class="st"> </span>PivotTable<span class="op">$</span><span class="kw">new</span>()</a>
<a class="sourceLine" id="cb9-3" title="3">pt<span class="op">$</span><span class="kw">addData</span>(bhmtrains)</a>
<a class="sourceLine" id="cb9-4" title="4">pt<span class="op">$</span><span class="kw">addColumnDataGroups</span>(<span class="st">"TrainCategory"</span>)</a>
<a class="sourceLine" id="cb9-5" title="5">pt<span class="op">$</span><span class="kw">addRowDataGroups</span>(<span class="st">"TOC"</span>, <span class="dt">outlineBefore=</span><span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="dt">mergeSpace=</span><span class="st">"dataGroupsAndCellsAs1"</span>))</a>
<a class="sourceLine" id="cb9-6" title="6">pt<span class="op">$</span><span class="kw">addRowDataGroups</span>(<span class="st">"PowerType"</span>)</a>
<a class="sourceLine" id="cb9-7" title="7">pt<span class="op">$</span><span class="kw">defineCalculation</span>(<span class="dt">calculationName=</span><span class="st">"TotalTrains"</span>, <span class="dt">summariseExpression=</span><span class="st">"n()"</span>)</a>
<a class="sourceLine" id="cb9-8" title="8">pt<span class="op">$</span><span class="kw">renderPivot</span>()</a></code></pre></div>
<div id="htmlwidget-e0ffdc3451eaeb1b9c81" style="width:auto;height:auto;" class="pivottabler html-widget"></div>
<script type="application/json" data-for="htmlwidget-e0ffdc3451eaeb1b9c81">{"x":{"tableCss":".Table {display: table; border-collapse: collapse; }\r\n.ColumnHeader {font-family: Arial; font-size: 0.75em; border: 1px solid lightgray; vertical-align: middle; font-weight: bold; background-color: #F2F2F2; padding: 2px; text-align: center; }\r\n.RowHeader {font-family: Arial; font-size: 0.75em; border: 1px solid lightgray; vertical-align: middle; font-weight: bold; background-color: #F2F2F2; padding: 2px 8px 2px 2px; text-align: left; }\r\n.Cell {font-family: Arial; font-size: 0.75em; padding: 2px 2px 2px 8px; border: 1px solid lightgray; vertical-align: middle; text-align: right; }\r\n.OutlineColumnHeader {font-family: Arial; font-size: 0.75em; border: 1px solid lightgray; vertical-align: middle; font-weight: bold; background-color: #F2F2F2; padding: 2px; text-align: center; }\r\n.OutlineRowHeader {font-family: Arial; font-size: 0.75em; border: 1px solid lightgray; vertical-align: middle; font-weight: bold; background-color: #F2F2F2; padding: 2px 8px 2px 2px; text-align: left; }\r\n.OutlineCell {font-family: Arial; font-size: 0.75em; padding: 2px 2px 2px 8px; border: 1px solid lightgray; vertical-align: middle; text-align: right; background-color: #F8F8F8; font-weight: bold; }\r\n.Total {font-family: Arial; font-size: 0.75em; padding: 2px 2px 2px 8px; border: 1px solid lightgray; vertical-align: middle; text-align: right; }\r\n","tableHtml":"<table class=\"Table\">\n  <tr>\n    <th class=\"RowHeader\" colspan=\"2\">&nbsp;<\/th>\n    <th class=\"ColumnHeader\">Express Passenger<\/th>\n    <th class=\"ColumnHeader\">Ordinary Passenger<\/th>\n    <th class=\"ColumnHeader\">Total<\/th>\n  <\/tr>\n  <tr>\n    <th class=\"OutlineRowHeader\" colspan=\"5\">Arriva Trains Wales<\/th>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\" rowspan=\"2\"><\/th>\n    <th class=\"RowHeader\">DMU<\/th>\n    <td class=\"Cell\">3079<\/td>\n    <td class=\"Cell\">830<\/td>\n    <td class=\"Total\">3909<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\">Total<\/th>\n    <td class=\"Total\">3079<\/td>\n    <td class=\"Total\">830<\/td>\n    <td class=\"Total\">3909<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"OutlineRowHeader\" colspan=\"5\">CrossCountry<\/th>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\" rowspan=\"3\"><\/th>\n    <th class=\"RowHeader\">DMU<\/th>\n    <td class=\"Cell\">22133<\/td>\n    <td class=\"Cell\">63<\/td>\n    <td class=\"Total\">22196<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\">HST<\/th>\n    <td class=\"Cell\">732<\/td>\n    <td class=\"Cell\"><\/td>\n    <td class=\"Total\">732<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\">Total<\/th>\n    <td class=\"Total\">22865<\/td>\n    <td class=\"Total\">63<\/td>\n    <td class=\"Total\">22928<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"OutlineRowHeader\" colspan=\"5\">London Midland<\/th>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\" rowspan=\"3\"><\/th>\n    <th class=\"RowHeader\">DMU<\/th>\n    <td class=\"Cell\">5638<\/td>\n    <td class=\"Cell\">5591<\/td>\n    <td class=\"Total\">11229<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\">EMU<\/th>\n    <td class=\"Cell\">8849<\/td>\n    <td class=\"Cell\">28201<\/td>\n    <td class=\"Total\">37050<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\">Total<\/th>\n    <td class=\"Total\">14487<\/td>\n    <td class=\"Total\">33792<\/td>\n    <td class=\"Total\">48279<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"OutlineRowHeader\" colspan=\"5\">Virgin Trains<\/th>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\" rowspan=\"3\"><\/th>\n    <th class=\"RowHeader\">DMU<\/th>\n    <td class=\"Cell\">2137<\/td>\n    <td class=\"Cell\"><\/td>\n    <td class=\"Total\">2137<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\">EMU<\/th>\n    <td class=\"Cell\">6457<\/td>\n    <td class=\"Cell\"><\/td>\n    <td class=\"Total\">6457<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\">Total<\/th>\n    <td class=\"Total\">8594<\/td>\n    <td class=\"Total\"><\/td>\n    <td class=\"Total\">8594<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\">Total<\/th>\n    <th class=\"RowHeader\"><\/th>\n    <td class=\"Total\">49025<\/td>\n    <td class=\"Total\">34685<\/td>\n    <td class=\"Total\">83710<\/td>\n  <\/tr>\n<\/table>","settings":[]},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<div id="the-isempty-setting" class="section level3">
<h3 class="hasAnchor">
<a href="#the-isempty-setting" class="anchor"></a>The <code>isEmpty</code> Setting</h3>
<p>Normally the outline row data groups have no values in the corresponding cells in those rows in the pivot table.</p>
<p>Specifying <code>isEmpty=FALSE</code> will instead show the corresponding calculation values in the cells of the outline rows. This corresponds to the total of the values from the child groups. Typically, when <code>isEmpty=FALSE</code> is specified for the parent row data group, then the total rows are switched off for the child data groups by specifying <code>addTotal=FALSE</code>.</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb10-1" title="1"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(pivottabler)</a>
<a class="sourceLine" id="cb10-2" title="2">pt &lt;-<span class="st"> </span>PivotTable<span class="op">$</span><span class="kw">new</span>()</a>
<a class="sourceLine" id="cb10-3" title="3">pt<span class="op">$</span><span class="kw">addData</span>(bhmtrains)</a>
<a class="sourceLine" id="cb10-4" title="4">pt<span class="op">$</span><span class="kw">addColumnDataGroups</span>(<span class="st">"TrainCategory"</span>)</a>
<a class="sourceLine" id="cb10-5" title="5">pt<span class="op">$</span><span class="kw">addRowDataGroups</span>(<span class="st">"TOC"</span>, </a>
<a class="sourceLine" id="cb10-6" title="6">                    <span class="dt">outlineBefore=</span><span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="dt">isEmpty=</span><span class="ot">FALSE</span>, <span class="dt">mergeSpace=</span><span class="st">"dataGroupsOnly"</span>))</a>
<a class="sourceLine" id="cb10-7" title="7">pt<span class="op">$</span><span class="kw">addRowDataGroups</span>(<span class="st">"PowerType"</span>, <span class="dt">addTotal=</span><span class="ot">FALSE</span>)</a>
<a class="sourceLine" id="cb10-8" title="8">pt<span class="op">$</span><span class="kw">defineCalculation</span>(<span class="dt">calculationName=</span><span class="st">"TotalTrains"</span>, <span class="dt">summariseExpression=</span><span class="st">"n()"</span>)</a>
<a class="sourceLine" id="cb10-9" title="9">pt<span class="op">$</span><span class="kw">renderPivot</span>()</a></code></pre></div>
<div id="htmlwidget-b15226967583aa1e9ea7" style="width:auto;height:auto;" class="pivottabler html-widget"></div>
<script type="application/json" data-for="htmlwidget-b15226967583aa1e9ea7">{"x":{"tableCss":".Table {display: table; border-collapse: collapse; }\r\n.ColumnHeader {font-family: Arial; font-size: 0.75em; border: 1px solid lightgray; vertical-align: middle; font-weight: bold; background-color: #F2F2F2; padding: 2px; text-align: center; }\r\n.RowHeader {font-family: Arial; font-size: 0.75em; border: 1px solid lightgray; vertical-align: middle; font-weight: bold; background-color: #F2F2F2; padding: 2px 8px 2px 2px; text-align: left; }\r\n.Cell {font-family: Arial; font-size: 0.75em; padding: 2px 2px 2px 8px; border: 1px solid lightgray; vertical-align: middle; text-align: right; }\r\n.OutlineColumnHeader {font-family: Arial; font-size: 0.75em; border: 1px solid lightgray; vertical-align: middle; font-weight: bold; background-color: #F2F2F2; padding: 2px; text-align: center; }\r\n.OutlineRowHeader {font-family: Arial; font-size: 0.75em; border: 1px solid lightgray; vertical-align: middle; font-weight: bold; background-color: #F2F2F2; padding: 2px 8px 2px 2px; text-align: left; }\r\n.OutlineCell {font-family: Arial; font-size: 0.75em; padding: 2px 2px 2px 8px; border: 1px solid lightgray; vertical-align: middle; text-align: right; background-color: #F8F8F8; font-weight: bold; }\r\n.Total {font-family: Arial; font-size: 0.75em; padding: 2px 2px 2px 8px; border: 1px solid lightgray; vertical-align: middle; text-align: right; }\r\n","tableHtml":"<table class=\"Table\">\n  <tr>\n    <th class=\"RowHeader\" colspan=\"2\">&nbsp;<\/th>\n    <th class=\"ColumnHeader\">Express Passenger<\/th>\n    <th class=\"ColumnHeader\">Ordinary Passenger<\/th>\n    <th class=\"ColumnHeader\">Total<\/th>\n  <\/tr>\n  <tr>\n    <th class=\"OutlineRowHeader\" colspan=\"2\">Arriva Trains Wales<\/th>\n    <td class=\"OutlineCell\">3079<\/td>\n    <td class=\"OutlineCell\">830<\/td>\n    <td class=\"OutlineCell\">3909<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\"><\/th>\n    <th class=\"RowHeader\">DMU<\/th>\n    <td class=\"Cell\">3079<\/td>\n    <td class=\"Cell\">830<\/td>\n    <td class=\"Total\">3909<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"OutlineRowHeader\" colspan=\"2\">CrossCountry<\/th>\n    <td class=\"OutlineCell\">22865<\/td>\n    <td class=\"OutlineCell\">63<\/td>\n    <td class=\"OutlineCell\">22928<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\" rowspan=\"2\"><\/th>\n    <th class=\"RowHeader\">DMU<\/th>\n    <td class=\"Cell\">22133<\/td>\n    <td class=\"Cell\">63<\/td>\n    <td class=\"Total\">22196<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\">HST<\/th>\n    <td class=\"Cell\">732<\/td>\n    <td class=\"Cell\"><\/td>\n    <td class=\"Total\">732<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"OutlineRowHeader\" colspan=\"2\">London Midland<\/th>\n    <td class=\"OutlineCell\">14487<\/td>\n    <td class=\"OutlineCell\">33792<\/td>\n    <td class=\"OutlineCell\">48279<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\" rowspan=\"2\"><\/th>\n    <th class=\"RowHeader\">DMU<\/th>\n    <td class=\"Cell\">5638<\/td>\n    <td class=\"Cell\">5591<\/td>\n    <td class=\"Total\">11229<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\">EMU<\/th>\n    <td class=\"Cell\">8849<\/td>\n    <td class=\"Cell\">28201<\/td>\n    <td class=\"Total\">37050<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"OutlineRowHeader\" colspan=\"2\">Virgin Trains<\/th>\n    <td class=\"OutlineCell\">8594<\/td>\n    <td class=\"OutlineCell\"><\/td>\n    <td class=\"OutlineCell\">8594<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\" rowspan=\"2\"><\/th>\n    <th class=\"RowHeader\">DMU<\/th>\n    <td class=\"Cell\">2137<\/td>\n    <td class=\"Cell\"><\/td>\n    <td class=\"Total\">2137<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\">EMU<\/th>\n    <td class=\"Cell\">6457<\/td>\n    <td class=\"Cell\"><\/td>\n    <td class=\"Total\">6457<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\">Total<\/th>\n    <th class=\"RowHeader\"><\/th>\n    <td class=\"Total\">49025<\/td>\n    <td class=\"Total\">34685<\/td>\n    <td class=\"Total\">83710<\/td>\n  <\/tr>\n<\/table>","settings":[]},"evals":[],"jsHooks":[]}</script><p><code>outlineTotal=TRUE</code> is then typically specified for the parent row data group, so that the heading in the grand total row is rendered in a consistent way to the rest of the outline rows (i.e. as a merged cell, instead of separate cells).</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb11-1" title="1"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(pivottabler)</a>
<a class="sourceLine" id="cb11-2" title="2">pt &lt;-<span class="st"> </span>PivotTable<span class="op">$</span><span class="kw">new</span>()</a>
<a class="sourceLine" id="cb11-3" title="3">pt<span class="op">$</span><span class="kw">addData</span>(bhmtrains)</a>
<a class="sourceLine" id="cb11-4" title="4">pt<span class="op">$</span><span class="kw">addColumnDataGroups</span>(<span class="st">"TrainCategory"</span>)</a>
<a class="sourceLine" id="cb11-5" title="5">pt<span class="op">$</span><span class="kw">addRowDataGroups</span>(<span class="st">"TOC"</span>, </a>
<a class="sourceLine" id="cb11-6" title="6">                    <span class="dt">outlineBefore=</span><span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="dt">isEmpty=</span><span class="ot">FALSE</span>, <span class="dt">mergeSpace=</span><span class="st">"dataGroupsOnly"</span>), </a>
<a class="sourceLine" id="cb11-7" title="7">                    <span class="dt">outlineTotal=</span><span class="ot">TRUE</span>)</a>
<a class="sourceLine" id="cb11-8" title="8">pt<span class="op">$</span><span class="kw">addRowDataGroups</span>(<span class="st">"PowerType"</span>, <span class="dt">addTotal=</span><span class="ot">FALSE</span>)</a>
<a class="sourceLine" id="cb11-9" title="9">pt<span class="op">$</span><span class="kw">defineCalculation</span>(<span class="dt">calculationName=</span><span class="st">"TotalTrains"</span>, <span class="dt">summariseExpression=</span><span class="st">"n()"</span>)</a>
<a class="sourceLine" id="cb11-10" title="10">pt<span class="op">$</span><span class="kw">renderPivot</span>()</a></code></pre></div>
<div id="htmlwidget-e777fc7c39b586a4ce27" style="width:auto;height:auto;" class="pivottabler html-widget"></div>
<script type="application/json" data-for="htmlwidget-e777fc7c39b586a4ce27">{"x":{"tableCss":".Table {display: table; border-collapse: collapse; }\r\n.ColumnHeader {font-family: Arial; font-size: 0.75em; border: 1px solid lightgray; vertical-align: middle; font-weight: bold; background-color: #F2F2F2; padding: 2px; text-align: center; }\r\n.RowHeader {font-family: Arial; font-size: 0.75em; border: 1px solid lightgray; vertical-align: middle; font-weight: bold; background-color: #F2F2F2; padding: 2px 8px 2px 2px; text-align: left; }\r\n.Cell {font-family: Arial; font-size: 0.75em; padding: 2px 2px 2px 8px; border: 1px solid lightgray; vertical-align: middle; text-align: right; }\r\n.OutlineColumnHeader {font-family: Arial; font-size: 0.75em; border: 1px solid lightgray; vertical-align: middle; font-weight: bold; background-color: #F2F2F2; padding: 2px; text-align: center; }\r\n.OutlineRowHeader {font-family: Arial; font-size: 0.75em; border: 1px solid lightgray; vertical-align: middle; font-weight: bold; background-color: #F2F2F2; padding: 2px 8px 2px 2px; text-align: left; }\r\n.OutlineCell {font-family: Arial; font-size: 0.75em; padding: 2px 2px 2px 8px; border: 1px solid lightgray; vertical-align: middle; text-align: right; background-color: #F8F8F8; font-weight: bold; }\r\n.Total {font-family: Arial; font-size: 0.75em; padding: 2px 2px 2px 8px; border: 1px solid lightgray; vertical-align: middle; text-align: right; }\r\n","tableHtml":"<table class=\"Table\">\n  <tr>\n    <th class=\"RowHeader\" colspan=\"2\">&nbsp;<\/th>\n    <th class=\"ColumnHeader\">Express Passenger<\/th>\n    <th class=\"ColumnHeader\">Ordinary Passenger<\/th>\n    <th class=\"ColumnHeader\">Total<\/th>\n  <\/tr>\n  <tr>\n    <th class=\"OutlineRowHeader\" colspan=\"2\">Arriva Trains Wales<\/th>\n    <td class=\"OutlineCell\">3079<\/td>\n    <td class=\"OutlineCell\">830<\/td>\n    <td class=\"OutlineCell\">3909<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\"><\/th>\n    <th class=\"RowHeader\">DMU<\/th>\n    <td class=\"Cell\">3079<\/td>\n    <td class=\"Cell\">830<\/td>\n    <td class=\"Total\">3909<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"OutlineRowHeader\" colspan=\"2\">CrossCountry<\/th>\n    <td class=\"OutlineCell\">22865<\/td>\n    <td class=\"OutlineCell\">63<\/td>\n    <td class=\"OutlineCell\">22928<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\" rowspan=\"2\"><\/th>\n    <th class=\"RowHeader\">DMU<\/th>\n    <td class=\"Cell\">22133<\/td>\n    <td class=\"Cell\">63<\/td>\n    <td class=\"Total\">22196<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\">HST<\/th>\n    <td class=\"Cell\">732<\/td>\n    <td class=\"Cell\"><\/td>\n    <td class=\"Total\">732<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"OutlineRowHeader\" colspan=\"2\">London Midland<\/th>\n    <td class=\"OutlineCell\">14487<\/td>\n    <td class=\"OutlineCell\">33792<\/td>\n    <td class=\"OutlineCell\">48279<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\" rowspan=\"2\"><\/th>\n    <th class=\"RowHeader\">DMU<\/th>\n    <td class=\"Cell\">5638<\/td>\n    <td class=\"Cell\">5591<\/td>\n    <td class=\"Total\">11229<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\">EMU<\/th>\n    <td class=\"Cell\">8849<\/td>\n    <td class=\"Cell\">28201<\/td>\n    <td class=\"Total\">37050<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"OutlineRowHeader\" colspan=\"2\">Virgin Trains<\/th>\n    <td class=\"OutlineCell\">8594<\/td>\n    <td class=\"OutlineCell\"><\/td>\n    <td class=\"OutlineCell\">8594<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\" rowspan=\"2\"><\/th>\n    <th class=\"RowHeader\">DMU<\/th>\n    <td class=\"Cell\">2137<\/td>\n    <td class=\"Cell\"><\/td>\n    <td class=\"Total\">2137<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\">EMU<\/th>\n    <td class=\"Cell\">6457<\/td>\n    <td class=\"Cell\"><\/td>\n    <td class=\"Total\">6457<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"OutlineRowHeader\" colspan=\"2\">Total<\/th>\n    <td class=\"OutlineCell\">49025<\/td>\n    <td class=\"OutlineCell\">34685<\/td>\n    <td class=\"OutlineCell\">83710<\/td>\n  <\/tr>\n<\/table>","settings":[]},"evals":[],"jsHooks":[]}</script>
</div>
<div id="the-caption-setting" class="section level3">
<h3 class="hasAnchor">
<a href="#the-caption-setting" class="anchor"></a>The <code>caption</code> Setting</h3>
<p>The caption setting controls the caption shown in the outline data group. By default the value of the caption setting is <code>"{value}"</code>. Changing the caption allows additional text to be shown.</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb12-1" title="1"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(pivottabler)</a>
<a class="sourceLine" id="cb12-2" title="2">pt &lt;-<span class="st"> </span>PivotTable<span class="op">$</span><span class="kw">new</span>()</a>
<a class="sourceLine" id="cb12-3" title="3">pt<span class="op">$</span><span class="kw">addData</span>(bhmtrains)</a>
<a class="sourceLine" id="cb12-4" title="4">pt<span class="op">$</span><span class="kw">addColumnDataGroups</span>(<span class="st">"TrainCategory"</span>)</a>
<a class="sourceLine" id="cb12-5" title="5">pt<span class="op">$</span><span class="kw">addRowDataGroups</span>(<span class="st">"TOC"</span>, </a>
<a class="sourceLine" id="cb12-6" title="6">                    <span class="dt">outlineBefore=</span><span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="dt">caption=</span><span class="st">"TOC:  {value}"</span>))</a>
<a class="sourceLine" id="cb12-7" title="7">pt<span class="op">$</span><span class="kw">addRowDataGroups</span>(<span class="st">"PowerType"</span>)</a>
<a class="sourceLine" id="cb12-8" title="8">pt<span class="op">$</span><span class="kw">defineCalculation</span>(<span class="dt">calculationName=</span><span class="st">"TotalTrains"</span>, <span class="dt">summariseExpression=</span><span class="st">"n()"</span>)</a>
<a class="sourceLine" id="cb12-9" title="9">pt<span class="op">$</span><span class="kw">renderPivot</span>()</a></code></pre></div>
<div id="htmlwidget-56e8c90c986884c68378" style="width:auto;height:auto;" class="pivottabler html-widget"></div>
<script type="application/json" data-for="htmlwidget-56e8c90c986884c68378">{"x":{"tableCss":".Table {display: table; border-collapse: collapse; }\r\n.ColumnHeader {font-family: Arial; font-size: 0.75em; border: 1px solid lightgray; vertical-align: middle; font-weight: bold; background-color: #F2F2F2; padding: 2px; text-align: center; }\r\n.RowHeader {font-family: Arial; font-size: 0.75em; border: 1px solid lightgray; vertical-align: middle; font-weight: bold; background-color: #F2F2F2; padding: 2px 8px 2px 2px; text-align: left; }\r\n.Cell {font-family: Arial; font-size: 0.75em; padding: 2px 2px 2px 8px; border: 1px solid lightgray; vertical-align: middle; text-align: right; }\r\n.OutlineColumnHeader {font-family: Arial; font-size: 0.75em; border: 1px solid lightgray; vertical-align: middle; font-weight: bold; background-color: #F2F2F2; padding: 2px; text-align: center; }\r\n.OutlineRowHeader {font-family: Arial; font-size: 0.75em; border: 1px solid lightgray; vertical-align: middle; font-weight: bold; background-color: #F2F2F2; padding: 2px 8px 2px 2px; text-align: left; }\r\n.OutlineCell {font-family: Arial; font-size: 0.75em; padding: 2px 2px 2px 8px; border: 1px solid lightgray; vertical-align: middle; text-align: right; background-color: #F8F8F8; font-weight: bold; }\r\n.Total {font-family: Arial; font-size: 0.75em; padding: 2px 2px 2px 8px; border: 1px solid lightgray; vertical-align: middle; text-align: right; }\r\n","tableHtml":"<table class=\"Table\">\n  <tr>\n    <th class=\"RowHeader\" colspan=\"2\">&nbsp;<\/th>\n    <th class=\"ColumnHeader\">Express Passenger<\/th>\n    <th class=\"ColumnHeader\">Ordinary Passenger<\/th>\n    <th class=\"ColumnHeader\">Total<\/th>\n  <\/tr>\n  <tr>\n    <th class=\"OutlineRowHeader\" colspan=\"2\">TOC:  Arriva Trains Wales<\/th>\n    <td class=\"OutlineCell\" colspan=\"3\">&nbsp;<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\" rowspan=\"2\"><\/th>\n    <th class=\"RowHeader\">DMU<\/th>\n    <td class=\"Cell\">3079<\/td>\n    <td class=\"Cell\">830<\/td>\n    <td class=\"Total\">3909<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\">Total<\/th>\n    <td class=\"Total\">3079<\/td>\n    <td class=\"Total\">830<\/td>\n    <td class=\"Total\">3909<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"OutlineRowHeader\" colspan=\"2\">TOC:  CrossCountry<\/th>\n    <td class=\"OutlineCell\" colspan=\"3\">&nbsp;<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\" rowspan=\"3\"><\/th>\n    <th class=\"RowHeader\">DMU<\/th>\n    <td class=\"Cell\">22133<\/td>\n    <td class=\"Cell\">63<\/td>\n    <td class=\"Total\">22196<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\">HST<\/th>\n    <td class=\"Cell\">732<\/td>\n    <td class=\"Cell\"><\/td>\n    <td class=\"Total\">732<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\">Total<\/th>\n    <td class=\"Total\">22865<\/td>\n    <td class=\"Total\">63<\/td>\n    <td class=\"Total\">22928<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"OutlineRowHeader\" colspan=\"2\">TOC:  London Midland<\/th>\n    <td class=\"OutlineCell\" colspan=\"3\">&nbsp;<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\" rowspan=\"3\"><\/th>\n    <th class=\"RowHeader\">DMU<\/th>\n    <td class=\"Cell\">5638<\/td>\n    <td class=\"Cell\">5591<\/td>\n    <td class=\"Total\">11229<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\">EMU<\/th>\n    <td class=\"Cell\">8849<\/td>\n    <td class=\"Cell\">28201<\/td>\n    <td class=\"Total\">37050<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\">Total<\/th>\n    <td class=\"Total\">14487<\/td>\n    <td class=\"Total\">33792<\/td>\n    <td class=\"Total\">48279<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"OutlineRowHeader\" colspan=\"2\">TOC:  Virgin Trains<\/th>\n    <td class=\"OutlineCell\" colspan=\"3\">&nbsp;<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\" rowspan=\"3\"><\/th>\n    <th class=\"RowHeader\">DMU<\/th>\n    <td class=\"Cell\">2137<\/td>\n    <td class=\"Cell\"><\/td>\n    <td class=\"Total\">2137<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\">EMU<\/th>\n    <td class=\"Cell\">6457<\/td>\n    <td class=\"Cell\"><\/td>\n    <td class=\"Total\">6457<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\">Total<\/th>\n    <td class=\"Total\">8594<\/td>\n    <td class=\"Total\"><\/td>\n    <td class=\"Total\">8594<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\">Total<\/th>\n    <th class=\"RowHeader\"><\/th>\n    <td class=\"Total\">49025<\/td>\n    <td class=\"Total\">34685<\/td>\n    <td class=\"Total\">83710<\/td>\n  <\/tr>\n<\/table>","settings":[]},"evals":[],"jsHooks":[]}</script>
</div>
<div id="the-groupstylename-and-groupstyledeclarations-settings" class="section level3">
<h3 class="hasAnchor">
<a href="#the-groupstylename-and-groupstyledeclarations-settings" class="anchor"></a>The <code>groupStyleName</code> and <code>groupStyleDeclarations</code> Settings</h3>
<p>The <code>groupStyleName</code> setting allows a new base style to be specified for the outline groups. This will completely replace the built-in style. A style with the corresponding name must exist in the current pivot table theme. See the <a href="v07-styling.html">Styling</a> vignette for more details.</p>
<p>In most cases specifying additional styling using the <code>groupStyleDeclarations</code> setting is better since this allows additional style declarations to be overlaid onto the base/built-in style.</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb13-1" title="1"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(pivottabler)</a>
<a class="sourceLine" id="cb13-2" title="2">pt &lt;-<span class="st"> </span>PivotTable<span class="op">$</span><span class="kw">new</span>()</a>
<a class="sourceLine" id="cb13-3" title="3">pt<span class="op">$</span><span class="kw">addData</span>(bhmtrains)</a>
<a class="sourceLine" id="cb13-4" title="4">pt<span class="op">$</span><span class="kw">addColumnDataGroups</span>(<span class="st">"TrainCategory"</span>)</a>
<a class="sourceLine" id="cb13-5" title="5">pt<span class="op">$</span><span class="kw">addRowDataGroups</span>(<span class="st">"TOC"</span>, </a>
<a class="sourceLine" id="cb13-6" title="6">                    <span class="dt">outlineBefore=</span><span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="dt">groupStyleDeclarations=</span><span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="dt">color=</span><span class="st">"blue"</span>)))</a>
<a class="sourceLine" id="cb13-7" title="7">pt<span class="op">$</span><span class="kw">addRowDataGroups</span>(<span class="st">"PowerType"</span>)</a>
<a class="sourceLine" id="cb13-8" title="8">pt<span class="op">$</span><span class="kw">defineCalculation</span>(<span class="dt">calculationName=</span><span class="st">"TotalTrains"</span>, <span class="dt">summariseExpression=</span><span class="st">"n()"</span>)</a>
<a class="sourceLine" id="cb13-9" title="9">pt<span class="op">$</span><span class="kw">renderPivot</span>()</a></code></pre></div>
<div id="htmlwidget-8a6dba4756bc63cad74d" style="width:auto;height:auto;" class="pivottabler html-widget"></div>
<script type="application/json" data-for="htmlwidget-8a6dba4756bc63cad74d">{"x":{"tableCss":".Table {display: table; border-collapse: collapse; }\r\n.ColumnHeader {font-family: Arial; font-size: 0.75em; border: 1px solid lightgray; vertical-align: middle; font-weight: bold; background-color: #F2F2F2; padding: 2px; text-align: center; }\r\n.RowHeader {font-family: Arial; font-size: 0.75em; border: 1px solid lightgray; vertical-align: middle; font-weight: bold; background-color: #F2F2F2; padding: 2px 8px 2px 2px; text-align: left; }\r\n.Cell {font-family: Arial; font-size: 0.75em; padding: 2px 2px 2px 8px; border: 1px solid lightgray; vertical-align: middle; text-align: right; }\r\n.OutlineColumnHeader {font-family: Arial; font-size: 0.75em; border: 1px solid lightgray; vertical-align: middle; font-weight: bold; background-color: #F2F2F2; padding: 2px; text-align: center; }\r\n.OutlineRowHeader {font-family: Arial; font-size: 0.75em; border: 1px solid lightgray; vertical-align: middle; font-weight: bold; background-color: #F2F2F2; padding: 2px 8px 2px 2px; text-align: left; }\r\n.OutlineCell {font-family: Arial; font-size: 0.75em; padding: 2px 2px 2px 8px; border: 1px solid lightgray; vertical-align: middle; text-align: right; background-color: #F8F8F8; font-weight: bold; }\r\n.Total {font-family: Arial; font-size: 0.75em; padding: 2px 2px 2px 8px; border: 1px solid lightgray; vertical-align: middle; text-align: right; }\r\n","tableHtml":"<table class=\"Table\">\n  <tr>\n    <th class=\"RowHeader\" colspan=\"2\">&nbsp;<\/th>\n    <th class=\"ColumnHeader\">Express Passenger<\/th>\n    <th class=\"ColumnHeader\">Ordinary Passenger<\/th>\n    <th class=\"ColumnHeader\">Total<\/th>\n  <\/tr>\n  <tr>\n    <th class=\"OutlineRowHeader\" style=\"color: blue; \" colspan=\"2\">Arriva Trains Wales<\/th>\n    <td class=\"OutlineCell\" colspan=\"3\">&nbsp;<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\" rowspan=\"2\"><\/th>\n    <th class=\"RowHeader\">DMU<\/th>\n    <td class=\"Cell\">3079<\/td>\n    <td class=\"Cell\">830<\/td>\n    <td class=\"Total\">3909<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\">Total<\/th>\n    <td class=\"Total\">3079<\/td>\n    <td class=\"Total\">830<\/td>\n    <td class=\"Total\">3909<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"OutlineRowHeader\" style=\"color: blue; \" colspan=\"2\">CrossCountry<\/th>\n    <td class=\"OutlineCell\" colspan=\"3\">&nbsp;<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\" rowspan=\"3\"><\/th>\n    <th class=\"RowHeader\">DMU<\/th>\n    <td class=\"Cell\">22133<\/td>\n    <td class=\"Cell\">63<\/td>\n    <td class=\"Total\">22196<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\">HST<\/th>\n    <td class=\"Cell\">732<\/td>\n    <td class=\"Cell\"><\/td>\n    <td class=\"Total\">732<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\">Total<\/th>\n    <td class=\"Total\">22865<\/td>\n    <td class=\"Total\">63<\/td>\n    <td class=\"Total\">22928<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"OutlineRowHeader\" style=\"color: blue; \" colspan=\"2\">London Midland<\/th>\n    <td class=\"OutlineCell\" colspan=\"3\">&nbsp;<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\" rowspan=\"3\"><\/th>\n    <th class=\"RowHeader\">DMU<\/th>\n    <td class=\"Cell\">5638<\/td>\n    <td class=\"Cell\">5591<\/td>\n    <td class=\"Total\">11229<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\">EMU<\/th>\n    <td class=\"Cell\">8849<\/td>\n    <td class=\"Cell\">28201<\/td>\n    <td class=\"Total\">37050<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\">Total<\/th>\n    <td class=\"Total\">14487<\/td>\n    <td class=\"Total\">33792<\/td>\n    <td class=\"Total\">48279<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"OutlineRowHeader\" style=\"color: blue; \" colspan=\"2\">Virgin Trains<\/th>\n    <td class=\"OutlineCell\" colspan=\"3\">&nbsp;<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\" rowspan=\"3\"><\/th>\n    <th class=\"RowHeader\">DMU<\/th>\n    <td class=\"Cell\">2137<\/td>\n    <td class=\"Cell\"><\/td>\n    <td class=\"Total\">2137<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\">EMU<\/th>\n    <td class=\"Cell\">6457<\/td>\n    <td class=\"Cell\"><\/td>\n    <td class=\"Total\">6457<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\">Total<\/th>\n    <td class=\"Total\">8594<\/td>\n    <td class=\"Total\"><\/td>\n    <td class=\"Total\">8594<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\">Total<\/th>\n    <th class=\"RowHeader\"><\/th>\n    <td class=\"Total\">49025<\/td>\n    <td class=\"Total\">34685<\/td>\n    <td class=\"Total\">83710<\/td>\n  <\/tr>\n<\/table>","settings":[]},"evals":[],"jsHooks":[]}</script>
</div>
<div id="the-cellstylename-and-cellstyledeclarations-settings" class="section level3">
<h3 class="hasAnchor">
<a href="#the-cellstylename-and-cellstyledeclarations-settings" class="anchor"></a>The <code>cellStyleName</code> and <code>cellStyleDeclarations</code> Settings</h3>
<p>The <code>cellStyleName</code> setting allows a new base style to be specified for the cells in the outline rows. This will completely replace the built-in style. A style with the corresponding name must exist in the current pivot table theme. See the <a href="v07-styling.html">Styling</a> vignette for more details.</p>
<p>In most cases specifying additional styling using the <code>cellStyleDeclarations</code> setting is better since this allows additional style declarations to be overlaid onto the base/built-in style.</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb14-1" title="1"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(pivottabler)</a>
<a class="sourceLine" id="cb14-2" title="2">pt &lt;-<span class="st"> </span>PivotTable<span class="op">$</span><span class="kw">new</span>()</a>
<a class="sourceLine" id="cb14-3" title="3">pt<span class="op">$</span><span class="kw">addData</span>(bhmtrains)</a>
<a class="sourceLine" id="cb14-4" title="4">pt<span class="op">$</span><span class="kw">addColumnDataGroups</span>(<span class="st">"TrainCategory"</span>)</a>
<a class="sourceLine" id="cb14-5" title="5">pt<span class="op">$</span><span class="kw">addRowDataGroups</span>(<span class="st">"TOC"</span>, </a>
<a class="sourceLine" id="cb14-6" title="6">                    <span class="dt">outlineBefore=</span><span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="dt">mergeSpace=</span><span class="st">"doNotMerge"</span>, </a>
<a class="sourceLine" id="cb14-7" title="7">                                       <span class="dt">cellStyleDeclarations=</span><span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="st">"background-color"</span>=<span class="st">"lightskyblue"</span>)))</a>
<a class="sourceLine" id="cb14-8" title="8">pt<span class="op">$</span><span class="kw">addRowDataGroups</span>(<span class="st">"PowerType"</span>)</a>
<a class="sourceLine" id="cb14-9" title="9">pt<span class="op">$</span><span class="kw">defineCalculation</span>(<span class="dt">calculationName=</span><span class="st">"TotalTrains"</span>, <span class="dt">summariseExpression=</span><span class="st">"n()"</span>)</a>
<a class="sourceLine" id="cb14-10" title="10">pt<span class="op">$</span><span class="kw">renderPivot</span>()</a></code></pre></div>
<div id="htmlwidget-980ce11029331f6c50dd" style="width:auto;height:auto;" class="pivottabler html-widget"></div>
<script type="application/json" data-for="htmlwidget-980ce11029331f6c50dd">{"x":{"tableCss":".Table {display: table; border-collapse: collapse; }\r\n.ColumnHeader {font-family: Arial; font-size: 0.75em; border: 1px solid lightgray; vertical-align: middle; font-weight: bold; background-color: #F2F2F2; padding: 2px; text-align: center; }\r\n.RowHeader {font-family: Arial; font-size: 0.75em; border: 1px solid lightgray; vertical-align: middle; font-weight: bold; background-color: #F2F2F2; padding: 2px 8px 2px 2px; text-align: left; }\r\n.Cell {font-family: Arial; font-size: 0.75em; padding: 2px 2px 2px 8px; border: 1px solid lightgray; vertical-align: middle; text-align: right; }\r\n.OutlineColumnHeader {font-family: Arial; font-size: 0.75em; border: 1px solid lightgray; vertical-align: middle; font-weight: bold; background-color: #F2F2F2; padding: 2px; text-align: center; }\r\n.OutlineRowHeader {font-family: Arial; font-size: 0.75em; border: 1px solid lightgray; vertical-align: middle; font-weight: bold; background-color: #F2F2F2; padding: 2px 8px 2px 2px; text-align: left; }\r\n.OutlineCell {font-family: Arial; font-size: 0.75em; padding: 2px 2px 2px 8px; border: 1px solid lightgray; vertical-align: middle; text-align: right; background-color: #F8F8F8; font-weight: bold; }\r\n.Total {font-family: Arial; font-size: 0.75em; padding: 2px 2px 2px 8px; border: 1px solid lightgray; vertical-align: middle; text-align: right; }\r\n","tableHtml":"<table class=\"Table\">\n  <tr>\n    <th class=\"RowHeader\" colspan=\"2\">&nbsp;<\/th>\n    <th class=\"ColumnHeader\">Express Passenger<\/th>\n    <th class=\"ColumnHeader\">Ordinary Passenger<\/th>\n    <th class=\"ColumnHeader\">Total<\/th>\n  <\/tr>\n  <tr>\n    <th class=\"OutlineRowHeader\">Arriva Trains Wales<\/th>\n    <th class=\"OutlineRowHeader\"><\/th>\n    <td class=\"OutlineCell\" style=\"background-color: lightskyblue; \"><\/td>\n    <td class=\"OutlineCell\" style=\"background-color: lightskyblue; \"><\/td>\n    <td class=\"OutlineCell\" style=\"background-color: lightskyblue; \"><\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\" rowspan=\"2\"><\/th>\n    <th class=\"RowHeader\">DMU<\/th>\n    <td class=\"Cell\">3079<\/td>\n    <td class=\"Cell\">830<\/td>\n    <td class=\"Total\">3909<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\">Total<\/th>\n    <td class=\"Total\">3079<\/td>\n    <td class=\"Total\">830<\/td>\n    <td class=\"Total\">3909<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"OutlineRowHeader\">CrossCountry<\/th>\n    <th class=\"OutlineRowHeader\"><\/th>\n    <td class=\"OutlineCell\" style=\"background-color: lightskyblue; \"><\/td>\n    <td class=\"OutlineCell\" style=\"background-color: lightskyblue; \"><\/td>\n    <td class=\"OutlineCell\" style=\"background-color: lightskyblue; \"><\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\" rowspan=\"3\"><\/th>\n    <th class=\"RowHeader\">DMU<\/th>\n    <td class=\"Cell\">22133<\/td>\n    <td class=\"Cell\">63<\/td>\n    <td class=\"Total\">22196<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\">HST<\/th>\n    <td class=\"Cell\">732<\/td>\n    <td class=\"Cell\"><\/td>\n    <td class=\"Total\">732<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\">Total<\/th>\n    <td class=\"Total\">22865<\/td>\n    <td class=\"Total\">63<\/td>\n    <td class=\"Total\">22928<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"OutlineRowHeader\">London Midland<\/th>\n    <th class=\"OutlineRowHeader\"><\/th>\n    <td class=\"OutlineCell\" style=\"background-color: lightskyblue; \"><\/td>\n    <td class=\"OutlineCell\" style=\"background-color: lightskyblue; \"><\/td>\n    <td class=\"OutlineCell\" style=\"background-color: lightskyblue; \"><\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\" rowspan=\"3\"><\/th>\n    <th class=\"RowHeader\">DMU<\/th>\n    <td class=\"Cell\">5638<\/td>\n    <td class=\"Cell\">5591<\/td>\n    <td class=\"Total\">11229<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\">EMU<\/th>\n    <td class=\"Cell\">8849<\/td>\n    <td class=\"Cell\">28201<\/td>\n    <td class=\"Total\">37050<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\">Total<\/th>\n    <td class=\"Total\">14487<\/td>\n    <td class=\"Total\">33792<\/td>\n    <td class=\"Total\">48279<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"OutlineRowHeader\">Virgin Trains<\/th>\n    <th class=\"OutlineRowHeader\"><\/th>\n    <td class=\"OutlineCell\" style=\"background-color: lightskyblue; \"><\/td>\n    <td class=\"OutlineCell\" style=\"background-color: lightskyblue; \"><\/td>\n    <td class=\"OutlineCell\" style=\"background-color: lightskyblue; \"><\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\" rowspan=\"3\"><\/th>\n    <th class=\"RowHeader\">DMU<\/th>\n    <td class=\"Cell\">2137<\/td>\n    <td class=\"Cell\"><\/td>\n    <td class=\"Total\">2137<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\">EMU<\/th>\n    <td class=\"Cell\">6457<\/td>\n    <td class=\"Cell\"><\/td>\n    <td class=\"Total\">6457<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\">Total<\/th>\n    <td class=\"Total\">8594<\/td>\n    <td class=\"Total\"><\/td>\n    <td class=\"Total\">8594<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\">Total<\/th>\n    <th class=\"RowHeader\"><\/th>\n    <td class=\"Total\">49025<\/td>\n    <td class=\"Total\">34685<\/td>\n    <td class=\"Total\">83710<\/td>\n  <\/tr>\n<\/table>","settings":[]},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<div id="combined-outline-layout-example" class="section level2">
<h2 class="hasAnchor">
<a href="#combined-outline-layout-example" class="anchor"></a>Combined Outline Layout Example</h2>
<p>The example pivot table below combines several of the outline settings described above.</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb15-1" title="1"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(pivottabler)</a>
<a class="sourceLine" id="cb15-2" title="2">pt &lt;-<span class="st"> </span>PivotTable<span class="op">$</span><span class="kw">new</span>()</a>
<a class="sourceLine" id="cb15-3" title="3">pt<span class="op">$</span><span class="kw">addData</span>(bhmtrains)</a>
<a class="sourceLine" id="cb15-4" title="4">pt<span class="op">$</span><span class="kw">addColumnDataGroups</span>(<span class="st">"TrainCategory"</span>)</a>
<a class="sourceLine" id="cb15-5" title="5">pt<span class="op">$</span><span class="kw">addRowDataGroups</span>(<span class="st">"TOC"</span>,</a>
<a class="sourceLine" id="cb15-6" title="6">                    <span class="dt">outlineBefore=</span><span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="dt">groupStyleDeclarations=</span><span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="dt">color=</span><span class="st">"blue"</span>)),</a>
<a class="sourceLine" id="cb15-7" title="7">                    <span class="dt">outlineAfter=</span><span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="dt">isEmpty=</span><span class="ot">FALSE</span>,</a>
<a class="sourceLine" id="cb15-8" title="8">                                      <span class="dt">mergeSpace=</span><span class="st">"dataGroupsOnly"</span>,</a>
<a class="sourceLine" id="cb15-9" title="9">                                      <span class="dt">caption=</span><span class="st">"Total ({value})"</span>,</a>
<a class="sourceLine" id="cb15-10" title="10">                                      <span class="dt">groupStyleDeclarations=</span><span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="st">"font-style"</span>=<span class="st">"italic"</span>)),</a>
<a class="sourceLine" id="cb15-11" title="11">                    <span class="dt">outlineTotal=</span><span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="dt">groupStyleDeclarations=</span><span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="dt">color=</span><span class="st">"blue"</span>),</a>
<a class="sourceLine" id="cb15-12" title="12">                                      <span class="dt">cellStyleDeclarations=</span><span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="st">"color"</span>=<span class="st">"blue"</span>)))</a>
<a class="sourceLine" id="cb15-13" title="13">pt<span class="op">$</span><span class="kw">addRowDataGroups</span>(<span class="st">"PowerType"</span>, <span class="dt">addTotal=</span><span class="ot">FALSE</span>)</a>
<a class="sourceLine" id="cb15-14" title="14">pt<span class="op">$</span><span class="kw">defineCalculation</span>(<span class="dt">calculationName=</span><span class="st">"TotalTrains"</span>, <span class="dt">summariseExpression=</span><span class="st">"n()"</span>)</a>
<a class="sourceLine" id="cb15-15" title="15">pt<span class="op">$</span><span class="kw">renderPivot</span>()</a></code></pre></div>
<div id="htmlwidget-93635df97f2d3eebe992" style="width:auto;height:auto;" class="pivottabler html-widget"></div>
<script type="application/json" data-for="htmlwidget-93635df97f2d3eebe992">{"x":{"tableCss":".Table {display: table; border-collapse: collapse; }\r\n.ColumnHeader {font-family: Arial; font-size: 0.75em; border: 1px solid lightgray; vertical-align: middle; font-weight: bold; background-color: #F2F2F2; padding: 2px; text-align: center; }\r\n.RowHeader {font-family: Arial; font-size: 0.75em; border: 1px solid lightgray; vertical-align: middle; font-weight: bold; background-color: #F2F2F2; padding: 2px 8px 2px 2px; text-align: left; }\r\n.Cell {font-family: Arial; font-size: 0.75em; padding: 2px 2px 2px 8px; border: 1px solid lightgray; vertical-align: middle; text-align: right; }\r\n.OutlineColumnHeader {font-family: Arial; font-size: 0.75em; border: 1px solid lightgray; vertical-align: middle; font-weight: bold; background-color: #F2F2F2; padding: 2px; text-align: center; }\r\n.OutlineRowHeader {font-family: Arial; font-size: 0.75em; border: 1px solid lightgray; vertical-align: middle; font-weight: bold; background-color: #F2F2F2; padding: 2px 8px 2px 2px; text-align: left; }\r\n.OutlineCell {font-family: Arial; font-size: 0.75em; padding: 2px 2px 2px 8px; border: 1px solid lightgray; vertical-align: middle; text-align: right; background-color: #F8F8F8; font-weight: bold; }\r\n.Total {font-family: Arial; font-size: 0.75em; padding: 2px 2px 2px 8px; border: 1px solid lightgray; vertical-align: middle; text-align: right; }\r\n","tableHtml":"<table class=\"Table\">\n  <tr>\n    <th class=\"RowHeader\" colspan=\"2\">&nbsp;<\/th>\n    <th class=\"ColumnHeader\">Express Passenger<\/th>\n    <th class=\"ColumnHeader\">Ordinary Passenger<\/th>\n    <th class=\"ColumnHeader\">Total<\/th>\n  <\/tr>\n  <tr>\n    <th class=\"OutlineRowHeader\" style=\"color: blue; \" colspan=\"2\">Arriva Trains Wales<\/th>\n    <td class=\"OutlineCell\" colspan=\"3\">&nbsp;<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\"><\/th>\n    <th class=\"RowHeader\">DMU<\/th>\n    <td class=\"Cell\">3079<\/td>\n    <td class=\"Cell\">830<\/td>\n    <td class=\"Total\">3909<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"OutlineRowHeader\" style=\"font-style: italic; \" colspan=\"2\">Total (Arriva Trains Wales)<\/th>\n    <td class=\"OutlineCell\">3079<\/td>\n    <td class=\"OutlineCell\">830<\/td>\n    <td class=\"OutlineCell\">3909<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"OutlineRowHeader\" style=\"color: blue; \" colspan=\"2\">CrossCountry<\/th>\n    <td class=\"OutlineCell\" colspan=\"3\">&nbsp;<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\" rowspan=\"2\"><\/th>\n    <th class=\"RowHeader\">DMU<\/th>\n    <td class=\"Cell\">22133<\/td>\n    <td class=\"Cell\">63<\/td>\n    <td class=\"Total\">22196<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\">HST<\/th>\n    <td class=\"Cell\">732<\/td>\n    <td class=\"Cell\"><\/td>\n    <td class=\"Total\">732<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"OutlineRowHeader\" style=\"font-style: italic; \" colspan=\"2\">Total (CrossCountry)<\/th>\n    <td class=\"OutlineCell\">22865<\/td>\n    <td class=\"OutlineCell\">63<\/td>\n    <td class=\"OutlineCell\">22928<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"OutlineRowHeader\" style=\"color: blue; \" colspan=\"2\">London Midland<\/th>\n    <td class=\"OutlineCell\" colspan=\"3\">&nbsp;<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\" rowspan=\"2\"><\/th>\n    <th class=\"RowHeader\">DMU<\/th>\n    <td class=\"Cell\">5638<\/td>\n    <td class=\"Cell\">5591<\/td>\n    <td class=\"Total\">11229<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\">EMU<\/th>\n    <td class=\"Cell\">8849<\/td>\n    <td class=\"Cell\">28201<\/td>\n    <td class=\"Total\">37050<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"OutlineRowHeader\" style=\"font-style: italic; \" colspan=\"2\">Total (London Midland)<\/th>\n    <td class=\"OutlineCell\">14487<\/td>\n    <td class=\"OutlineCell\">33792<\/td>\n    <td class=\"OutlineCell\">48279<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"OutlineRowHeader\" style=\"color: blue; \" colspan=\"2\">Virgin Trains<\/th>\n    <td class=\"OutlineCell\" colspan=\"3\">&nbsp;<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\" rowspan=\"2\"><\/th>\n    <th class=\"RowHeader\">DMU<\/th>\n    <td class=\"Cell\">2137<\/td>\n    <td class=\"Cell\"><\/td>\n    <td class=\"Total\">2137<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\">EMU<\/th>\n    <td class=\"Cell\">6457<\/td>\n    <td class=\"Cell\"><\/td>\n    <td class=\"Total\">6457<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"OutlineRowHeader\" style=\"font-style: italic; \" colspan=\"2\">Total (Virgin Trains)<\/th>\n    <td class=\"OutlineCell\">8594<\/td>\n    <td class=\"OutlineCell\"><\/td>\n    <td class=\"OutlineCell\">8594<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"OutlineRowHeader\" style=\"color: blue; \" colspan=\"2\">Total<\/th>\n    <td class=\"OutlineCell\" style=\"color: blue; \">49025<\/td>\n    <td class=\"OutlineCell\" style=\"color: blue; \">34685<\/td>\n    <td class=\"OutlineCell\" style=\"color: blue; \">83710<\/td>\n  <\/tr>\n<\/table>","settings":[]},"evals":[],"jsHooks":[]}</script>
</div>
<div id="multiple-level-outline-layout-examples" class="section level2">
<h2 class="hasAnchor">
<a href="#multiple-level-outline-layout-examples" class="anchor"></a>Multiple Level Outline Layout Examples</h2>
<p>The example pivot table below adds a third level on the row groups, where both the first and second levels are outlined, leaving the third level in tabular layout.</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb16-1" title="1"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(pivottabler)</a>
<a class="sourceLine" id="cb16-2" title="2">pt &lt;-<span class="st"> </span>PivotTable<span class="op">$</span><span class="kw">new</span>()</a>
<a class="sourceLine" id="cb16-3" title="3">pt<span class="op">$</span><span class="kw">addData</span>(bhmtrains)</a>
<a class="sourceLine" id="cb16-4" title="4">pt<span class="op">$</span><span class="kw">addColumnDataGroups</span>(<span class="st">"TrainCategory"</span>)</a>
<a class="sourceLine" id="cb16-5" title="5">pt<span class="op">$</span><span class="kw">addRowDataGroups</span>(<span class="st">"TOC"</span>, </a>
<a class="sourceLine" id="cb16-6" title="6">                    <span class="dt">outlineBefore=</span><span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="dt">isEmpty=</span><span class="ot">FALSE</span>, </a>
<a class="sourceLine" id="cb16-7" title="7">                                       <span class="dt">mergeSpace=</span><span class="st">"dataGroupsOnly"</span>, </a>
<a class="sourceLine" id="cb16-8" title="8">                                       <span class="dt">groupStyleDeclarations=</span><span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="dt">color=</span><span class="st">"blue"</span>), </a>
<a class="sourceLine" id="cb16-9" title="9">                                       <span class="dt">cellStyleDeclarations=</span><span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="dt">color=</span><span class="st">"blue"</span>)), </a>
<a class="sourceLine" id="cb16-10" title="10">                    <span class="dt">outlineTotal=</span><span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="dt">groupStyleDeclarations=</span><span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="dt">color=</span><span class="st">"blue"</span>), </a>
<a class="sourceLine" id="cb16-11" title="11">                                      <span class="dt">cellStyleDeclarations=</span><span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="dt">color=</span><span class="st">"blue"</span>)))</a>
<a class="sourceLine" id="cb16-12" title="12">pt<span class="op">$</span><span class="kw">addRowDataGroups</span>(<span class="st">"PowerType"</span>, </a>
<a class="sourceLine" id="cb16-13" title="13">                    <span class="dt">addTotal=</span><span class="ot">FALSE</span>, </a>
<a class="sourceLine" id="cb16-14" title="14">                    <span class="dt">outlineBefore=</span><span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="dt">isEmpty=</span><span class="ot">FALSE</span>, <span class="dt">mergeSpace=</span><span class="st">"dataGroupsOnly"</span>))</a>
<a class="sourceLine" id="cb16-15" title="15">pt<span class="op">$</span><span class="kw">addRowDataGroups</span>(<span class="st">"Status"</span>, <span class="dt">addTotal=</span><span class="ot">FALSE</span>)</a>
<a class="sourceLine" id="cb16-16" title="16">pt<span class="op">$</span><span class="kw">defineCalculation</span>(<span class="dt">calculationName=</span><span class="st">"TotalTrains"</span>, <span class="dt">summariseExpression=</span><span class="st">"n()"</span>)</a>
<a class="sourceLine" id="cb16-17" title="17">pt<span class="op">$</span><span class="kw">renderPivot</span>()</a></code></pre></div>
<div id="htmlwidget-4e7b541614799cbdaa14" style="width:auto;height:auto;" class="pivottabler html-widget"></div>
<script type="application/json" data-for="htmlwidget-4e7b541614799cbdaa14">{"x":{"tableCss":".Table {display: table; border-collapse: collapse; }\r\n.ColumnHeader {font-family: Arial; font-size: 0.75em; border: 1px solid lightgray; vertical-align: middle; font-weight: bold; background-color: #F2F2F2; padding: 2px; text-align: center; }\r\n.RowHeader {font-family: Arial; font-size: 0.75em; border: 1px solid lightgray; vertical-align: middle; font-weight: bold; background-color: #F2F2F2; padding: 2px 8px 2px 2px; text-align: left; }\r\n.Cell {font-family: Arial; font-size: 0.75em; padding: 2px 2px 2px 8px; border: 1px solid lightgray; vertical-align: middle; text-align: right; }\r\n.OutlineColumnHeader {font-family: Arial; font-size: 0.75em; border: 1px solid lightgray; vertical-align: middle; font-weight: bold; background-color: #F2F2F2; padding: 2px; text-align: center; }\r\n.OutlineRowHeader {font-family: Arial; font-size: 0.75em; border: 1px solid lightgray; vertical-align: middle; font-weight: bold; background-color: #F2F2F2; padding: 2px 8px 2px 2px; text-align: left; }\r\n.OutlineCell {font-family: Arial; font-size: 0.75em; padding: 2px 2px 2px 8px; border: 1px solid lightgray; vertical-align: middle; text-align: right; background-color: #F8F8F8; font-weight: bold; }\r\n.Total {font-family: Arial; font-size: 0.75em; padding: 2px 2px 2px 8px; border: 1px solid lightgray; vertical-align: middle; text-align: right; }\r\n","tableHtml":"<table class=\"Table\">\n  <tr>\n    <th class=\"RowHeader\" colspan=\"3\">&nbsp;<\/th>\n    <th class=\"ColumnHeader\">Express Passenger<\/th>\n    <th class=\"ColumnHeader\">Ordinary Passenger<\/th>\n    <th class=\"ColumnHeader\">Total<\/th>\n  <\/tr>\n  <tr>\n    <th class=\"OutlineRowHeader\" style=\"color: blue; \" colspan=\"3\">Arriva Trains Wales<\/th>\n    <td class=\"OutlineCell\" style=\"color: blue; \">3079<\/td>\n    <td class=\"OutlineCell\" style=\"color: blue; \">830<\/td>\n    <td class=\"OutlineCell\" style=\"color: blue; \">3909<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\" rowspan=\"4\"><\/th>\n    <th class=\"OutlineRowHeader\" colspan=\"2\">DMU<\/th>\n    <td class=\"OutlineCell\">3079<\/td>\n    <td class=\"OutlineCell\">830<\/td>\n    <td class=\"OutlineCell\">3909<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\" rowspan=\"3\"><\/th>\n    <th class=\"RowHeader\">A<\/th>\n    <td class=\"Cell\">3018<\/td>\n    <td class=\"Cell\">815<\/td>\n    <td class=\"Total\">3833<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\">C<\/th>\n    <td class=\"Cell\">59<\/td>\n    <td class=\"Cell\">15<\/td>\n    <td class=\"Total\">74<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\">R<\/th>\n    <td class=\"Cell\">2<\/td>\n    <td class=\"Cell\"><\/td>\n    <td class=\"Total\">2<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"OutlineRowHeader\" style=\"color: blue; \" colspan=\"3\">CrossCountry<\/th>\n    <td class=\"OutlineCell\" style=\"color: blue; \">22865<\/td>\n    <td class=\"OutlineCell\" style=\"color: blue; \">63<\/td>\n    <td class=\"OutlineCell\" style=\"color: blue; \">22928<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\" rowspan=\"7\"><\/th>\n    <th class=\"OutlineRowHeader\" colspan=\"2\">DMU<\/th>\n    <td class=\"OutlineCell\">22133<\/td>\n    <td class=\"OutlineCell\">63<\/td>\n    <td class=\"OutlineCell\">22196<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\" rowspan=\"3\"><\/th>\n    <th class=\"RowHeader\">A<\/th>\n    <td class=\"Cell\">21561<\/td>\n    <td class=\"Cell\">60<\/td>\n    <td class=\"Total\">21621<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\">C<\/th>\n    <td class=\"Cell\">546<\/td>\n    <td class=\"Cell\">2<\/td>\n    <td class=\"Total\">548<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\">R<\/th>\n    <td class=\"Cell\">26<\/td>\n    <td class=\"Cell\">1<\/td>\n    <td class=\"Total\">27<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"OutlineRowHeader\" colspan=\"2\">HST<\/th>\n    <td class=\"OutlineCell\">732<\/td>\n    <td class=\"OutlineCell\"><\/td>\n    <td class=\"OutlineCell\">732<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\" rowspan=\"2\"><\/th>\n    <th class=\"RowHeader\">A<\/th>\n    <td class=\"Cell\">709<\/td>\n    <td class=\"Cell\"><\/td>\n    <td class=\"Total\">709<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\">C<\/th>\n    <td class=\"Cell\">23<\/td>\n    <td class=\"Cell\"><\/td>\n    <td class=\"Total\">23<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"OutlineRowHeader\" style=\"color: blue; \" colspan=\"3\">London Midland<\/th>\n    <td class=\"OutlineCell\" style=\"color: blue; \">14487<\/td>\n    <td class=\"OutlineCell\" style=\"color: blue; \">33792<\/td>\n    <td class=\"OutlineCell\" style=\"color: blue; \">48279<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\" rowspan=\"8\"><\/th>\n    <th class=\"OutlineRowHeader\" colspan=\"2\">DMU<\/th>\n    <td class=\"OutlineCell\">5638<\/td>\n    <td class=\"OutlineCell\">5591<\/td>\n    <td class=\"OutlineCell\">11229<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\" rowspan=\"3\"><\/th>\n    <th class=\"RowHeader\">A<\/th>\n    <td class=\"Cell\">5534<\/td>\n    <td class=\"Cell\">5520<\/td>\n    <td class=\"Total\">11054<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\">C<\/th>\n    <td class=\"Cell\">101<\/td>\n    <td class=\"Cell\">67<\/td>\n    <td class=\"Total\">168<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\">R<\/th>\n    <td class=\"Cell\">3<\/td>\n    <td class=\"Cell\">4<\/td>\n    <td class=\"Total\">7<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"OutlineRowHeader\" colspan=\"2\">EMU<\/th>\n    <td class=\"OutlineCell\">8849<\/td>\n    <td class=\"OutlineCell\">28201<\/td>\n    <td class=\"OutlineCell\">37050<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\" rowspan=\"3\"><\/th>\n    <th class=\"RowHeader\">A<\/th>\n    <td class=\"Cell\">8599<\/td>\n    <td class=\"Cell\">27331<\/td>\n    <td class=\"Total\">35930<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\">C<\/th>\n    <td class=\"Cell\">235<\/td>\n    <td class=\"Cell\">847<\/td>\n    <td class=\"Total\">1082<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\">R<\/th>\n    <td class=\"Cell\">15<\/td>\n    <td class=\"Cell\">23<\/td>\n    <td class=\"Total\">38<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"OutlineRowHeader\" style=\"color: blue; \" colspan=\"3\">Virgin Trains<\/th>\n    <td class=\"OutlineCell\" style=\"color: blue; \">8594<\/td>\n    <td class=\"OutlineCell\" style=\"color: blue; \"><\/td>\n    <td class=\"OutlineCell\" style=\"color: blue; \">8594<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\" rowspan=\"8\"><\/th>\n    <th class=\"OutlineRowHeader\" colspan=\"2\">DMU<\/th>\n    <td class=\"OutlineCell\">2137<\/td>\n    <td class=\"OutlineCell\"><\/td>\n    <td class=\"OutlineCell\">2137<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\" rowspan=\"3\"><\/th>\n    <th class=\"RowHeader\">A<\/th>\n    <td class=\"Cell\">2028<\/td>\n    <td class=\"Cell\"><\/td>\n    <td class=\"Total\">2028<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\">C<\/th>\n    <td class=\"Cell\">107<\/td>\n    <td class=\"Cell\"><\/td>\n    <td class=\"Total\">107<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\">R<\/th>\n    <td class=\"Cell\">2<\/td>\n    <td class=\"Cell\"><\/td>\n    <td class=\"Total\">2<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"OutlineRowHeader\" colspan=\"2\">EMU<\/th>\n    <td class=\"OutlineCell\">6457<\/td>\n    <td class=\"OutlineCell\"><\/td>\n    <td class=\"OutlineCell\">6457<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\" rowspan=\"3\"><\/th>\n    <th class=\"RowHeader\">A<\/th>\n    <td class=\"Cell\">6331<\/td>\n    <td class=\"Cell\"><\/td>\n    <td class=\"Total\">6331<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\">C<\/th>\n    <td class=\"Cell\">119<\/td>\n    <td class=\"Cell\"><\/td>\n    <td class=\"Total\">119<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\">R<\/th>\n    <td class=\"Cell\">7<\/td>\n    <td class=\"Cell\"><\/td>\n    <td class=\"Total\">7<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"OutlineRowHeader\" style=\"color: blue; \" colspan=\"3\">Total<\/th>\n    <td class=\"OutlineCell\" style=\"color: blue; \">49025<\/td>\n    <td class=\"OutlineCell\" style=\"color: blue; \">34685<\/td>\n    <td class=\"OutlineCell\" style=\"color: blue; \">83710<\/td>\n  <\/tr>\n<\/table>","settings":[]},"evals":[],"jsHooks":[]}</script><p>Alternatively, it is possible to outline only the first level, leaving the second and third levels in tabular layout.</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb17-1" title="1"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(pivottabler)</a>
<a class="sourceLine" id="cb17-2" title="2">pt &lt;-<span class="st"> </span>PivotTable<span class="op">$</span><span class="kw">new</span>()</a>
<a class="sourceLine" id="cb17-3" title="3">pt<span class="op">$</span><span class="kw">addData</span>(bhmtrains)</a>
<a class="sourceLine" id="cb17-4" title="4">pt<span class="op">$</span><span class="kw">addColumnDataGroups</span>(<span class="st">"TrainCategory"</span>)</a>
<a class="sourceLine" id="cb17-5" title="5">pt<span class="op">$</span><span class="kw">addRowDataGroups</span>(<span class="st">"TOC"</span>, </a>
<a class="sourceLine" id="cb17-6" title="6">                    <span class="dt">outlineBefore=</span><span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="dt">isEmpty=</span><span class="ot">FALSE</span>, </a>
<a class="sourceLine" id="cb17-7" title="7">                                       <span class="dt">mergeSpace=</span><span class="st">"dataGroupsOnly"</span>, </a>
<a class="sourceLine" id="cb17-8" title="8">                                       <span class="dt">groupStyleDeclarations=</span><span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="dt">color=</span><span class="st">"blue"</span>)),</a>
<a class="sourceLine" id="cb17-9" title="9">                    <span class="dt">outlineTotal=</span><span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="dt">groupStyleDeclarations=</span><span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="dt">color=</span><span class="st">"blue"</span>)))</a>
<a class="sourceLine" id="cb17-10" title="10">pt<span class="op">$</span><span class="kw">addRowDataGroups</span>(<span class="st">"PowerType"</span>, <span class="dt">addTotal=</span><span class="ot">FALSE</span>)</a>
<a class="sourceLine" id="cb17-11" title="11">pt<span class="op">$</span><span class="kw">addRowDataGroups</span>(<span class="st">"Status"</span>)</a>
<a class="sourceLine" id="cb17-12" title="12">pt<span class="op">$</span><span class="kw">defineCalculation</span>(<span class="dt">calculationName=</span><span class="st">"TotalTrains"</span>, <span class="dt">summariseExpression=</span><span class="st">"n()"</span>)</a>
<a class="sourceLine" id="cb17-13" title="13">pt<span class="op">$</span><span class="kw">renderPivot</span>()</a></code></pre></div>
<div id="htmlwidget-89b6a3b6523d103804cc" style="width:auto;height:auto;" class="pivottabler html-widget"></div>
<script type="application/json" data-for="htmlwidget-89b6a3b6523d103804cc">{"x":{"tableCss":".Table {display: table; border-collapse: collapse; }\r\n.ColumnHeader {font-family: Arial; font-size: 0.75em; border: 1px solid lightgray; vertical-align: middle; font-weight: bold; background-color: #F2F2F2; padding: 2px; text-align: center; }\r\n.RowHeader {font-family: Arial; font-size: 0.75em; border: 1px solid lightgray; vertical-align: middle; font-weight: bold; background-color: #F2F2F2; padding: 2px 8px 2px 2px; text-align: left; }\r\n.Cell {font-family: Arial; font-size: 0.75em; padding: 2px 2px 2px 8px; border: 1px solid lightgray; vertical-align: middle; text-align: right; }\r\n.OutlineColumnHeader {font-family: Arial; font-size: 0.75em; border: 1px solid lightgray; vertical-align: middle; font-weight: bold; background-color: #F2F2F2; padding: 2px; text-align: center; }\r\n.OutlineRowHeader {font-family: Arial; font-size: 0.75em; border: 1px solid lightgray; vertical-align: middle; font-weight: bold; background-color: #F2F2F2; padding: 2px 8px 2px 2px; text-align: left; }\r\n.OutlineCell {font-family: Arial; font-size: 0.75em; padding: 2px 2px 2px 8px; border: 1px solid lightgray; vertical-align: middle; text-align: right; background-color: #F8F8F8; font-weight: bold; }\r\n.Total {font-family: Arial; font-size: 0.75em; padding: 2px 2px 2px 8px; border: 1px solid lightgray; vertical-align: middle; text-align: right; }\r\n","tableHtml":"<table class=\"Table\">\n  <tr>\n    <th class=\"RowHeader\" colspan=\"3\">&nbsp;<\/th>\n    <th class=\"ColumnHeader\">Express Passenger<\/th>\n    <th class=\"ColumnHeader\">Ordinary Passenger<\/th>\n    <th class=\"ColumnHeader\">Total<\/th>\n  <\/tr>\n  <tr>\n    <th class=\"OutlineRowHeader\" style=\"color: blue; \" colspan=\"3\">Arriva Trains Wales<\/th>\n    <td class=\"OutlineCell\">3079<\/td>\n    <td class=\"OutlineCell\">830<\/td>\n    <td class=\"OutlineCell\">3909<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\" rowspan=\"4\"><\/th>\n    <th class=\"RowHeader\" rowspan=\"4\">DMU<\/th>\n    <th class=\"RowHeader\">A<\/th>\n    <td class=\"Cell\">3018<\/td>\n    <td class=\"Cell\">815<\/td>\n    <td class=\"Total\">3833<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\">C<\/th>\n    <td class=\"Cell\">59<\/td>\n    <td class=\"Cell\">15<\/td>\n    <td class=\"Total\">74<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\">R<\/th>\n    <td class=\"Cell\">2<\/td>\n    <td class=\"Cell\"><\/td>\n    <td class=\"Total\">2<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\">Total<\/th>\n    <td class=\"Total\">3079<\/td>\n    <td class=\"Total\">830<\/td>\n    <td class=\"Total\">3909<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"OutlineRowHeader\" style=\"color: blue; \" colspan=\"3\">CrossCountry<\/th>\n    <td class=\"OutlineCell\">22865<\/td>\n    <td class=\"OutlineCell\">63<\/td>\n    <td class=\"OutlineCell\">22928<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\" rowspan=\"7\"><\/th>\n    <th class=\"RowHeader\" rowspan=\"4\">DMU<\/th>\n    <th class=\"RowHeader\">A<\/th>\n    <td class=\"Cell\">21561<\/td>\n    <td class=\"Cell\">60<\/td>\n    <td class=\"Total\">21621<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\">C<\/th>\n    <td class=\"Cell\">546<\/td>\n    <td class=\"Cell\">2<\/td>\n    <td class=\"Total\">548<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\">R<\/th>\n    <td class=\"Cell\">26<\/td>\n    <td class=\"Cell\">1<\/td>\n    <td class=\"Total\">27<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\">Total<\/th>\n    <td class=\"Total\">22133<\/td>\n    <td class=\"Total\">63<\/td>\n    <td class=\"Total\">22196<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\" rowspan=\"3\">HST<\/th>\n    <th class=\"RowHeader\">A<\/th>\n    <td class=\"Cell\">709<\/td>\n    <td class=\"Cell\"><\/td>\n    <td class=\"Total\">709<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\">C<\/th>\n    <td class=\"Cell\">23<\/td>\n    <td class=\"Cell\"><\/td>\n    <td class=\"Total\">23<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\">Total<\/th>\n    <td class=\"Total\">732<\/td>\n    <td class=\"Total\"><\/td>\n    <td class=\"Total\">732<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"OutlineRowHeader\" style=\"color: blue; \" colspan=\"3\">London Midland<\/th>\n    <td class=\"OutlineCell\">14487<\/td>\n    <td class=\"OutlineCell\">33792<\/td>\n    <td class=\"OutlineCell\">48279<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\" rowspan=\"8\"><\/th>\n    <th class=\"RowHeader\" rowspan=\"4\">DMU<\/th>\n    <th class=\"RowHeader\">A<\/th>\n    <td class=\"Cell\">5534<\/td>\n    <td class=\"Cell\">5520<\/td>\n    <td class=\"Total\">11054<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\">C<\/th>\n    <td class=\"Cell\">101<\/td>\n    <td class=\"Cell\">67<\/td>\n    <td class=\"Total\">168<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\">R<\/th>\n    <td class=\"Cell\">3<\/td>\n    <td class=\"Cell\">4<\/td>\n    <td class=\"Total\">7<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\">Total<\/th>\n    <td class=\"Total\">5638<\/td>\n    <td class=\"Total\">5591<\/td>\n    <td class=\"Total\">11229<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\" rowspan=\"4\">EMU<\/th>\n    <th class=\"RowHeader\">A<\/th>\n    <td class=\"Cell\">8599<\/td>\n    <td class=\"Cell\">27331<\/td>\n    <td class=\"Total\">35930<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\">C<\/th>\n    <td class=\"Cell\">235<\/td>\n    <td class=\"Cell\">847<\/td>\n    <td class=\"Total\">1082<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\">R<\/th>\n    <td class=\"Cell\">15<\/td>\n    <td class=\"Cell\">23<\/td>\n    <td class=\"Total\">38<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\">Total<\/th>\n    <td class=\"Total\">8849<\/td>\n    <td class=\"Total\">28201<\/td>\n    <td class=\"Total\">37050<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"OutlineRowHeader\" style=\"color: blue; \" colspan=\"3\">Virgin Trains<\/th>\n    <td class=\"OutlineCell\">8594<\/td>\n    <td class=\"OutlineCell\"><\/td>\n    <td class=\"OutlineCell\">8594<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\" rowspan=\"8\"><\/th>\n    <th class=\"RowHeader\" rowspan=\"4\">DMU<\/th>\n    <th class=\"RowHeader\">A<\/th>\n    <td class=\"Cell\">2028<\/td>\n    <td class=\"Cell\"><\/td>\n    <td class=\"Total\">2028<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\">C<\/th>\n    <td class=\"Cell\">107<\/td>\n    <td class=\"Cell\"><\/td>\n    <td class=\"Total\">107<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\">R<\/th>\n    <td class=\"Cell\">2<\/td>\n    <td class=\"Cell\"><\/td>\n    <td class=\"Total\">2<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\">Total<\/th>\n    <td class=\"Total\">2137<\/td>\n    <td class=\"Total\"><\/td>\n    <td class=\"Total\">2137<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\" rowspan=\"4\">EMU<\/th>\n    <th class=\"RowHeader\">A<\/th>\n    <td class=\"Cell\">6331<\/td>\n    <td class=\"Cell\"><\/td>\n    <td class=\"Total\">6331<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\">C<\/th>\n    <td class=\"Cell\">119<\/td>\n    <td class=\"Cell\"><\/td>\n    <td class=\"Total\">119<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\">R<\/th>\n    <td class=\"Cell\">7<\/td>\n    <td class=\"Cell\"><\/td>\n    <td class=\"Total\">7<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\">Total<\/th>\n    <td class=\"Total\">6457<\/td>\n    <td class=\"Total\"><\/td>\n    <td class=\"Total\">6457<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"OutlineRowHeader\" style=\"color: blue; \" colspan=\"3\">Total<\/th>\n    <td class=\"OutlineCell\">49025<\/td>\n    <td class=\"OutlineCell\">34685<\/td>\n    <td class=\"OutlineCell\">83710<\/td>\n  <\/tr>\n<\/table>","settings":[]},"evals":[],"jsHooks":[]}</script>
</div>
<div id="outline-calculation-example" class="section level2">
<h2 class="hasAnchor">
<a href="#outline-calculation-example" class="anchor"></a>Outline Calculation Example</h2>
<p>It is also possible to put the calculations on rows in the pivot table and to outline the calculation groups.</p>
<p>Shown below is a pivot table with calculations on rows in tabular layout:</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb18-1" title="1"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(pivottabler)</a>
<a class="sourceLine" id="cb18-2" title="2">pt &lt;-<span class="st"> </span>PivotTable<span class="op">$</span><span class="kw">new</span>()</a>
<a class="sourceLine" id="cb18-3" title="3">pt<span class="op">$</span><span class="kw">addData</span>(bhmtrains)</a>
<a class="sourceLine" id="cb18-4" title="4">pt<span class="op">$</span><span class="kw">addColumnDataGroups</span>(<span class="st">"TrainCategory"</span>)</a>
<a class="sourceLine" id="cb18-5" title="5">pt<span class="op">$</span><span class="kw">defineCalculation</span>(<span class="dt">calculationName=</span><span class="st">"NumberOfTrains"</span>, <span class="dt">caption=</span><span class="st">"Number of Trains"</span>,</a>
<a class="sourceLine" id="cb18-6" title="6">                     <span class="dt">summariseExpression=</span><span class="st">"n()"</span>)</a>
<a class="sourceLine" id="cb18-7" title="7">pt<span class="op">$</span><span class="kw">defineCalculation</span>(<span class="dt">calculationName=</span><span class="st">"MaximumSpeedMPH"</span>, <span class="dt">caption=</span><span class="st">"Maximum Speed (MPH)"</span>,</a>
<a class="sourceLine" id="cb18-8" title="8">                     <span class="dt">summariseExpression=</span><span class="st">"max(SchedSpeedMPH, na.rm=TRUE)"</span>)</a>
<a class="sourceLine" id="cb18-9" title="9">pt<span class="op">$</span><span class="kw">addRowCalculationGroups</span>()</a>
<a class="sourceLine" id="cb18-10" title="10">pt<span class="op">$</span><span class="kw">addColumnDataGroups</span>(<span class="st">"PowerType"</span>)</a>
<a class="sourceLine" id="cb18-11" title="11">pt<span class="op">$</span><span class="kw">addRowDataGroups</span>(<span class="st">"TOC"</span>)</a>
<a class="sourceLine" id="cb18-12" title="12">pt<span class="op">$</span><span class="kw">renderPivot</span>()</a></code></pre></div>
<div id="htmlwidget-2f2cba07b5e170226fed" style="width:auto;height:auto;" class="pivottabler html-widget"></div>
<script type="application/json" data-for="htmlwidget-2f2cba07b5e170226fed">{"x":{"tableCss":".Table {display: table; border-collapse: collapse; }\r\n.ColumnHeader {font-family: Arial; font-size: 0.75em; border: 1px solid lightgray; vertical-align: middle; font-weight: bold; background-color: #F2F2F2; padding: 2px; text-align: center; }\r\n.RowHeader {font-family: Arial; font-size: 0.75em; border: 1px solid lightgray; vertical-align: middle; font-weight: bold; background-color: #F2F2F2; padding: 2px 8px 2px 2px; text-align: left; }\r\n.Cell {font-family: Arial; font-size: 0.75em; padding: 2px 2px 2px 8px; border: 1px solid lightgray; vertical-align: middle; text-align: right; }\r\n.OutlineColumnHeader {font-family: Arial; font-size: 0.75em; border: 1px solid lightgray; vertical-align: middle; font-weight: bold; background-color: #F2F2F2; padding: 2px; text-align: center; }\r\n.OutlineRowHeader {font-family: Arial; font-size: 0.75em; border: 1px solid lightgray; vertical-align: middle; font-weight: bold; background-color: #F2F2F2; padding: 2px 8px 2px 2px; text-align: left; }\r\n.OutlineCell {font-family: Arial; font-size: 0.75em; padding: 2px 2px 2px 8px; border: 1px solid lightgray; vertical-align: middle; text-align: right; background-color: #F8F8F8; font-weight: bold; }\r\n.Total {font-family: Arial; font-size: 0.75em; padding: 2px 2px 2px 8px; border: 1px solid lightgray; vertical-align: middle; text-align: right; }\r\n","tableHtml":"<table class=\"Table\">\n  <tr>\n    <th class=\"RowHeader\" rowspan=\"2\" colspan=\"2\">&nbsp;<\/th>\n    <th class=\"ColumnHeader\" colspan=\"4\">Express Passenger<\/th>\n    <th class=\"ColumnHeader\" colspan=\"3\">Ordinary Passenger<\/th>\n    <th class=\"ColumnHeader\">Total<\/th>\n  <\/tr>\n  <tr>\n    <th class=\"ColumnHeader\">DMU<\/th>\n    <th class=\"ColumnHeader\">EMU<\/th>\n    <th class=\"ColumnHeader\">HST<\/th>\n    <th class=\"ColumnHeader\">Total<\/th>\n    <th class=\"ColumnHeader\">DMU<\/th>\n    <th class=\"ColumnHeader\">EMU<\/th>\n    <th class=\"ColumnHeader\">Total<\/th>\n    <th class=\"ColumnHeader\"><\/th>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\" rowspan=\"5\">Number of Trains<\/th>\n    <th class=\"RowHeader\">Arriva Trains Wales<\/th>\n    <td class=\"Cell\">3079<\/td>\n    <td class=\"Cell\"><\/td>\n    <td class=\"Cell\"><\/td>\n    <td class=\"Total\">3079<\/td>\n    <td class=\"Cell\">830<\/td>\n    <td class=\"Cell\"><\/td>\n    <td class=\"Total\">830<\/td>\n    <td class=\"Total\">3909<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\">CrossCountry<\/th>\n    <td class=\"Cell\">22133<\/td>\n    <td class=\"Cell\"><\/td>\n    <td class=\"Cell\">732<\/td>\n    <td class=\"Total\">22865<\/td>\n    <td class=\"Cell\">63<\/td>\n    <td class=\"Cell\"><\/td>\n    <td class=\"Total\">63<\/td>\n    <td class=\"Total\">22928<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\">London Midland<\/th>\n    <td class=\"Cell\">5638<\/td>\n    <td class=\"Cell\">8849<\/td>\n    <td class=\"Cell\"><\/td>\n    <td class=\"Total\">14487<\/td>\n    <td class=\"Cell\">5591<\/td>\n    <td class=\"Cell\">28201<\/td>\n    <td class=\"Total\">33792<\/td>\n    <td class=\"Total\">48279<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\">Virgin Trains<\/th>\n    <td class=\"Cell\">2137<\/td>\n    <td class=\"Cell\">6457<\/td>\n    <td class=\"Cell\"><\/td>\n    <td class=\"Total\">8594<\/td>\n    <td class=\"Cell\"><\/td>\n    <td class=\"Cell\"><\/td>\n    <td class=\"Total\"><\/td>\n    <td class=\"Total\">8594<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\">Total<\/th>\n    <td class=\"Total\">32987<\/td>\n    <td class=\"Total\">15306<\/td>\n    <td class=\"Total\">732<\/td>\n    <td class=\"Total\">49025<\/td>\n    <td class=\"Total\">6484<\/td>\n    <td class=\"Total\">28201<\/td>\n    <td class=\"Total\">34685<\/td>\n    <td class=\"Total\">83710<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\" rowspan=\"5\">Maximum Speed (MPH)<\/th>\n    <th class=\"RowHeader\">Arriva Trains Wales<\/th>\n    <td class=\"Cell\">90<\/td>\n    <td class=\"Cell\"><\/td>\n    <td class=\"Cell\"><\/td>\n    <td class=\"Total\">90<\/td>\n    <td class=\"Cell\">90<\/td>\n    <td class=\"Cell\"><\/td>\n    <td class=\"Total\">90<\/td>\n    <td class=\"Total\">90<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\">CrossCountry<\/th>\n    <td class=\"Cell\">125<\/td>\n    <td class=\"Cell\"><\/td>\n    <td class=\"Cell\">125<\/td>\n    <td class=\"Total\">125<\/td>\n    <td class=\"Cell\">100<\/td>\n    <td class=\"Cell\"><\/td>\n    <td class=\"Total\">100<\/td>\n    <td class=\"Total\">125<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\">London Midland<\/th>\n    <td class=\"Cell\">100<\/td>\n    <td class=\"Cell\">110<\/td>\n    <td class=\"Cell\"><\/td>\n    <td class=\"Total\">110<\/td>\n    <td class=\"Cell\">100<\/td>\n    <td class=\"Cell\">100<\/td>\n    <td class=\"Total\">100<\/td>\n    <td class=\"Total\">110<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\">Virgin Trains<\/th>\n    <td class=\"Cell\">125<\/td>\n    <td class=\"Cell\">125<\/td>\n    <td class=\"Cell\"><\/td>\n    <td class=\"Total\">125<\/td>\n    <td class=\"Cell\"><\/td>\n    <td class=\"Cell\"><\/td>\n    <td class=\"Total\"><\/td>\n    <td class=\"Total\">125<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\">Total<\/th>\n    <td class=\"Total\">125<\/td>\n    <td class=\"Total\">125<\/td>\n    <td class=\"Total\">125<\/td>\n    <td class=\"Total\">125<\/td>\n    <td class=\"Total\">100<\/td>\n    <td class=\"Total\">100<\/td>\n    <td class=\"Total\">100<\/td>\n    <td class=\"Total\">125<\/td>\n  <\/tr>\n<\/table>","settings":[]},"evals":[],"jsHooks":[]}</script><p>The same pivot table is shown below in outline layout. In this pivot table, the two calculations on rows are outlined:</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb19-1" title="1"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(pivottabler)</a>
<a class="sourceLine" id="cb19-2" title="2">pt &lt;-<span class="st"> </span>PivotTable<span class="op">$</span><span class="kw">new</span>()</a>
<a class="sourceLine" id="cb19-3" title="3">pt<span class="op">$</span><span class="kw">addData</span>(bhmtrains)</a>
<a class="sourceLine" id="cb19-4" title="4">pt<span class="op">$</span><span class="kw">addColumnDataGroups</span>(<span class="st">"TrainCategory"</span>)</a>
<a class="sourceLine" id="cb19-5" title="5">pt<span class="op">$</span><span class="kw">defineCalculation</span>(<span class="dt">calculationName=</span><span class="st">"NumberOfTrains"</span>, <span class="dt">caption=</span><span class="st">"Number of Trains"</span>,</a>
<a class="sourceLine" id="cb19-6" title="6">                     <span class="dt">summariseExpression=</span><span class="st">"n()"</span>)</a>
<a class="sourceLine" id="cb19-7" title="7">pt<span class="op">$</span><span class="kw">defineCalculation</span>(<span class="dt">calculationName=</span><span class="st">"MaximumSpeedMPH"</span>, <span class="dt">caption=</span><span class="st">"Maximum Speed (MPH)"</span>,</a>
<a class="sourceLine" id="cb19-8" title="8">                     <span class="dt">summariseExpression=</span><span class="st">"max(SchedSpeedMPH, na.rm=TRUE)"</span>)</a>
<a class="sourceLine" id="cb19-9" title="9">pt<span class="op">$</span><span class="kw">addColumnDataGroups</span>(<span class="st">"PowerType"</span>)</a>
<a class="sourceLine" id="cb19-10" title="10">pt<span class="op">$</span><span class="kw">addRowCalculationGroups</span>(<span class="dt">outlineBefore=</span><span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="dt">isEmpty=</span><span class="ot">FALSE</span>, <span class="dt">mergeSpace=</span><span class="st">"dataGroupsOnly"</span>, </a>
<a class="sourceLine" id="cb19-11" title="11">                                              <span class="dt">groupStyleDeclarations=</span><span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="dt">color=</span><span class="st">"blue"</span>), </a>
<a class="sourceLine" id="cb19-12" title="12">                                              <span class="dt">cellStyleDeclarations=</span><span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="dt">color=</span><span class="st">"blue"</span>)))</a>
<a class="sourceLine" id="cb19-13" title="13">pt<span class="op">$</span><span class="kw">addRowDataGroups</span>(<span class="st">"TOC"</span>, <span class="dt">addTotal=</span><span class="ot">FALSE</span>)</a>
<a class="sourceLine" id="cb19-14" title="14">pt<span class="op">$</span><span class="kw">renderPivot</span>()</a></code></pre></div>
<div id="htmlwidget-5bfcd04d103c49456ff0" style="width:auto;height:auto;" class="pivottabler html-widget"></div>
<script type="application/json" data-for="htmlwidget-5bfcd04d103c49456ff0">{"x":{"tableCss":".Table {display: table; border-collapse: collapse; }\r\n.ColumnHeader {font-family: Arial; font-size: 0.75em; border: 1px solid lightgray; vertical-align: middle; font-weight: bold; background-color: #F2F2F2; padding: 2px; text-align: center; }\r\n.RowHeader {font-family: Arial; font-size: 0.75em; border: 1px solid lightgray; vertical-align: middle; font-weight: bold; background-color: #F2F2F2; padding: 2px 8px 2px 2px; text-align: left; }\r\n.Cell {font-family: Arial; font-size: 0.75em; padding: 2px 2px 2px 8px; border: 1px solid lightgray; vertical-align: middle; text-align: right; }\r\n.OutlineColumnHeader {font-family: Arial; font-size: 0.75em; border: 1px solid lightgray; vertical-align: middle; font-weight: bold; background-color: #F2F2F2; padding: 2px; text-align: center; }\r\n.OutlineRowHeader {font-family: Arial; font-size: 0.75em; border: 1px solid lightgray; vertical-align: middle; font-weight: bold; background-color: #F2F2F2; padding: 2px 8px 2px 2px; text-align: left; }\r\n.OutlineCell {font-family: Arial; font-size: 0.75em; padding: 2px 2px 2px 8px; border: 1px solid lightgray; vertical-align: middle; text-align: right; background-color: #F8F8F8; font-weight: bold; }\r\n.Total {font-family: Arial; font-size: 0.75em; padding: 2px 2px 2px 8px; border: 1px solid lightgray; vertical-align: middle; text-align: right; }\r\n","tableHtml":"<table class=\"Table\">\n  <tr>\n    <th class=\"RowHeader\" rowspan=\"2\" colspan=\"2\">&nbsp;<\/th>\n    <th class=\"ColumnHeader\" colspan=\"4\">Express Passenger<\/th>\n    <th class=\"ColumnHeader\" colspan=\"3\">Ordinary Passenger<\/th>\n    <th class=\"ColumnHeader\">Total<\/th>\n  <\/tr>\n  <tr>\n    <th class=\"ColumnHeader\">DMU<\/th>\n    <th class=\"ColumnHeader\">EMU<\/th>\n    <th class=\"ColumnHeader\">HST<\/th>\n    <th class=\"ColumnHeader\">Total<\/th>\n    <th class=\"ColumnHeader\">DMU<\/th>\n    <th class=\"ColumnHeader\">EMU<\/th>\n    <th class=\"ColumnHeader\">Total<\/th>\n    <th class=\"ColumnHeader\"><\/th>\n  <\/tr>\n  <tr>\n    <th class=\"OutlineRowHeader\" style=\"color: blue; \" colspan=\"2\">Number of Trains<\/th>\n    <td class=\"OutlineCell\" style=\"color: blue; \">32987<\/td>\n    <td class=\"OutlineCell\" style=\"color: blue; \">15306<\/td>\n    <td class=\"OutlineCell\" style=\"color: blue; \">732<\/td>\n    <td class=\"OutlineCell\" style=\"color: blue; \">49025<\/td>\n    <td class=\"OutlineCell\" style=\"color: blue; \">6484<\/td>\n    <td class=\"OutlineCell\" style=\"color: blue; \">28201<\/td>\n    <td class=\"OutlineCell\" style=\"color: blue; \">34685<\/td>\n    <td class=\"OutlineCell\" style=\"color: blue; \">83710<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\" rowspan=\"4\"><\/th>\n    <th class=\"RowHeader\">Arriva Trains Wales<\/th>\n    <td class=\"Cell\">3079<\/td>\n    <td class=\"Cell\"><\/td>\n    <td class=\"Cell\"><\/td>\n    <td class=\"Total\">3079<\/td>\n    <td class=\"Cell\">830<\/td>\n    <td class=\"Cell\"><\/td>\n    <td class=\"Total\">830<\/td>\n    <td class=\"Total\">3909<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\">CrossCountry<\/th>\n    <td class=\"Cell\">22133<\/td>\n    <td class=\"Cell\"><\/td>\n    <td class=\"Cell\">732<\/td>\n    <td class=\"Total\">22865<\/td>\n    <td class=\"Cell\">63<\/td>\n    <td class=\"Cell\"><\/td>\n    <td class=\"Total\">63<\/td>\n    <td class=\"Total\">22928<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\">London Midland<\/th>\n    <td class=\"Cell\">5638<\/td>\n    <td class=\"Cell\">8849<\/td>\n    <td class=\"Cell\"><\/td>\n    <td class=\"Total\">14487<\/td>\n    <td class=\"Cell\">5591<\/td>\n    <td class=\"Cell\">28201<\/td>\n    <td class=\"Total\">33792<\/td>\n    <td class=\"Total\">48279<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\">Virgin Trains<\/th>\n    <td class=\"Cell\">2137<\/td>\n    <td class=\"Cell\">6457<\/td>\n    <td class=\"Cell\"><\/td>\n    <td class=\"Total\">8594<\/td>\n    <td class=\"Cell\"><\/td>\n    <td class=\"Cell\"><\/td>\n    <td class=\"Total\"><\/td>\n    <td class=\"Total\">8594<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"OutlineRowHeader\" style=\"color: blue; \" colspan=\"2\">Maximum Speed (MPH)<\/th>\n    <td class=\"OutlineCell\" style=\"color: blue; \">125<\/td>\n    <td class=\"OutlineCell\" style=\"color: blue; \">125<\/td>\n    <td class=\"OutlineCell\" style=\"color: blue; \">125<\/td>\n    <td class=\"OutlineCell\" style=\"color: blue; \">125<\/td>\n    <td class=\"OutlineCell\" style=\"color: blue; \">100<\/td>\n    <td class=\"OutlineCell\" style=\"color: blue; \">100<\/td>\n    <td class=\"OutlineCell\" style=\"color: blue; \">100<\/td>\n    <td class=\"OutlineCell\" style=\"color: blue; \">125<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\" rowspan=\"4\"><\/th>\n    <th class=\"RowHeader\">Arriva Trains Wales<\/th>\n    <td class=\"Cell\">90<\/td>\n    <td class=\"Cell\"><\/td>\n    <td class=\"Cell\"><\/td>\n    <td class=\"Total\">90<\/td>\n    <td class=\"Cell\">90<\/td>\n    <td class=\"Cell\"><\/td>\n    <td class=\"Total\">90<\/td>\n    <td class=\"Total\">90<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\">CrossCountry<\/th>\n    <td class=\"Cell\">125<\/td>\n    <td class=\"Cell\"><\/td>\n    <td class=\"Cell\">125<\/td>\n    <td class=\"Total\">125<\/td>\n    <td class=\"Cell\">100<\/td>\n    <td class=\"Cell\"><\/td>\n    <td class=\"Total\">100<\/td>\n    <td class=\"Total\">125<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\">London Midland<\/th>\n    <td class=\"Cell\">100<\/td>\n    <td class=\"Cell\">110<\/td>\n    <td class=\"Cell\"><\/td>\n    <td class=\"Total\">110<\/td>\n    <td class=\"Cell\">100<\/td>\n    <td class=\"Cell\">100<\/td>\n    <td class=\"Total\">100<\/td>\n    <td class=\"Total\">110<\/td>\n  <\/tr>\n  <tr>\n    <th class=\"RowHeader\">Virgin Trains<\/th>\n    <td class=\"Cell\">125<\/td>\n    <td class=\"Cell\">125<\/td>\n    <td class=\"Cell\"><\/td>\n    <td class=\"Total\">125<\/td>\n    <td class=\"Cell\"><\/td>\n    <td class=\"Cell\"><\/td>\n    <td class=\"Total\"><\/td>\n    <td class=\"Total\">125<\/td>\n  <\/tr>\n<\/table>","settings":[]},"evals":[],"jsHooks":[]}</script>
</div>
<div id="irregular-layout" class="section level2">
<h2 class="hasAnchor">
<a href="#irregular-layout" class="anchor"></a>Irregular Layout</h2>
<p>All of the pivot tables on this page have used regular layout, i.e. where each level of row or column data groups relates to only one variable. It is possible to construct custom pivot tables using irregular layout. See <a href="v10-irregularlayout.html">Irregular Layout</a> for details.</p>
</div>
<div id="further-reading" class="section level2">
<h2 class="hasAnchor">
<a href="#further-reading" class="anchor"></a>Further Reading</h2>
<p>The full set of vignettes is:</p>
<ol style="list-style-type: decimal">
<li><a href="v01-introduction.html">Introduction</a></li>
<li><a href="v02-datagroups.html">Data Groups</a></li>
<li><a href="v03-calculations.html">Calculations</a></li>
<li><a href="v04-regularlayout.html">Regular Layout</a></li>
<li><a href="v05-outputs.html">Outputs</a></li>
<li><a href="v06-latexoutput.html">Latex Output</a></li>
<li><a href="v07-styling.html">Styling</a></li>
<li><a href="v08-findingandformatting.html">Finding and Formatting</a></li>
<li><a href="v09-cellcontext.html">Cell Context</a></li>
<li><a href="v10-irregularlayout.html">Irregular Layout</a></li>
<li><a href="v11-performance.html">Performance</a></li>
<li><a href="v12-excelexport.html">Excel Export</a></li>
<li><a href="v13-shiny.html">Shiny</a></li>
<li><a href="vA1-appendix.html">Appendix: Details</a></li>
<li><a href="vA2-appendix.html">Appendix: Calculations</a></li>
<li><a href="vA3-appendix.html">Appendix: Class Overview</a></li>
</ol>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">

        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#in-this-vignette">In This Vignette</a></li>
      <li><a href="#introduction">Introduction</a></li>
      <li><a href="#what-is-regular-layout">What is Regular Layout?</a></li>
      <li><a href="#types-of-regular-layout">Types of Regular Layout</a></li>
      <li><a href="#tabular-layout">Tabular Layout</a></li>
      <li><a href="#outline-layout">Outline Layout</a></li>
      <li><a href="#outline-layout-settings">Outline Layout Settings</a></li>
      <li><a href="#combined-outline-layout-example">Combined Outline Layout Example</a></li>
      <li><a href="#multiple-level-outline-layout-examples">Multiple Level Outline Layout Examples</a></li>
      <li><a href="#outline-calculation-example">Outline Calculation Example</a></li>
      <li><a href="#irregular-layout">Irregular Layout</a></li>
      <li><a href="#further-reading">Further Reading</a></li>
      </ul>
</div>
      </div>

</div>



      <footer><div class="copyright">
  <p>Developed by Christopher Bailiss.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.</p>
</div>

      </footer>
</div>

  
<script src="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.1/docsearch.min.js" integrity="sha256-GKvGqXDznoRYHCwKXGnuchvKSwmx9SRMrZOTh2g4Sb0=" crossorigin="anonymous"></script><script>
  docsearch({
    
    
    apiKey: '16a61fa9a8811ff537cd1a528040a9e1',
    indexName: 'pivottabler',
    inputSelector: 'input#search-input.form-control',
    transformData: function(hits) {
      return hits.map(function (hit) {
        hit.url = updateHitURL(hit);
        return hit;
      });
    }
  });
</script>
</body>
</html>
